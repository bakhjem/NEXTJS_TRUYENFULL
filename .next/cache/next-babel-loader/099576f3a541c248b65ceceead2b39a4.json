{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Layout from '../../../components/MyLayout';\nimport 'isomorphic-unfetch';\nimport Link from 'next/link';\nimport React from 'react';\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser';\nimport { Helmet } from 'react-helmet';\n\nvar Search = /*#__PURE__*/function (_React$Component) {\n  _inherits(Search, _React$Component);\n\n  var _super = _createSuper(Search);\n\n  function Search() {\n    _classCallCheck(this, Search);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Search, [{\n    key: \"render\",\n    value: function render() {\n      // console.log(this.props)\n      return __jsx(Layout, null, __jsx(Helmet, null, __jsx(\"title\", null, \"\\u0110\\u1ECDc truy\\u1EC7n online - YYtruyen.com\"), __jsx(\"meta\", {\n        name: \"description\",\n        content: \"\\u0110\\u1ECDc truy\\u1EC7n mi\\u1EC5n ph\\xED, c\\u1EADp nh\\u1EADt nhanh nh\\u1EA5t c\\xE1c truy\\u1EC7n ng\\xF4n t\\xECnh, truy\\u1EC7n ki\\u1EBFm hi\\u1EC7p, xuy\\xEAn kh\\xF4ng, s\\u1EE7ng, ng\\u01B0\\u1EE3c v\\xE0 nhi\\u1EC1u th\\u1EC3 lo\\u1EA1i kh\\xE1c\"\n      }), __jsx(\"meta\", {\n        name: \"theme-color\",\n        content: \"#008f68\"\n      }), __jsx(\"meta\", {\n        name: \"keywords\",\n        content: \"\\u0111\\u1ECDc truy\\u1EC7n, \\u0111\\u1ECDc truy\\u1EC7n online, truy\\u1EC7n ng\\xF4n t\\xECnh, truy\\u1EC7n ki\\u1EBFm hi\\u1EC7p, xuy\\xEAn kh\\xF4ng\"\n      })), __jsx(\"div\", {\n        id: \"main_body\"\n      }, __jsx(\"div\", {\n        className: \"cotgiua\"\n      }, __jsx(\"div\", {\n        className: \"breadcrumb breadcrumbs\"\n      }, __jsx(\"div\", {\n        className: \"rdfa-breadcrumb\"\n      }, __jsx(\"div\", null, __jsx(\"p\", null, __jsx(\"span\", {\n        className: \"breadcrumbs-title\"\n      }), __jsx(\"span\", {\n        itemScope: true,\n        itemType: \"http://data-vocabulary.org/Breadcrumb\"\n      }, __jsx(Link, {\n        href: \"/\"\n      }, __jsx(\"a\", {\n        itemProp: \"url\",\n        className: \"home\",\n        title: \"\\u0110\\u1ECDc truy\\u1EC7n online\"\n      }, __jsx(\"span\", {\n        itemProp: \"title\"\n      }, \"\\u0110\\u1ECDc truy\\u1EC7n online\")))), __jsx(\"span\", {\n        className: \"separator\"\n      }, \"\\xBB\"), __jsx(\"span\", {\n        itemScope: true,\n        itemType: \"http://data-vocabulary.org/Breadcrumb\"\n      }, __jsx(Link, {\n        itemProp: \"url\",\n        as: \"/search/\".concat(this.props.id, \"/\").concat(this.props.data.page),\n        href: \"/search/[id]/[page]\"\n      }, __jsx(\"span\", {\n        itemProp: \"title\"\n      }, \"Latest\"))), __jsx(\"span\", {\n        className: \"separator\"\n      }, \"\\xBB\"), this.props.data.page, \" page\")))), __jsx(\"div\", {\n        className: \"wrap_update tab_anh_dep danh_sach\",\n        style: {\n          marginBottom: 10\n        }\n      }, this.props.data.data.length !== 0 ? this.props.data.data.map(function (data) {\n        return __jsx(\"div\", {\n          className: \"update_item list_category\",\n          title: data.novelsname\n        }, __jsx(Link, {\n          as: \"/truyen/\".concat(data.idnovel),\n          href: \"/truyen/[id]\"\n        }, __jsx(\"a\", {\n          rel: \"nofollow\",\n          title: data.novelsname\n        }, __jsx(\"img\", {\n          src: data.cover,\n          alt: data.novelsname,\n          title: data.novelsname\n        }))), __jsx(\"h3\", {\n          className: \"nowrap\"\n        }, __jsx(Link, {\n          as: \"/truyen/\".concat(data.idnovel),\n          href: \"/truyen/[id]\"\n        }, __jsx(\"a\", {\n          title: data.novelsname\n        }, data.novelsname))), __jsx(Link, {\n          as: \"/doc/\".concat(data.idnovel, \"/\").concat(data.idchapter),\n          href: \"/doc/[id]/[chapter]\"\n        }, __jsx(\"a\", {\n          title: data.lasterchapter,\n          className: \"chapter\"\n        }, data.lasterchapter)), __jsx(\"span\", null, \"View: \", data.view), __jsx(\"p\", null, data.des));\n      }) : null), __jsx(\"div\", {\n        className: \"phan-trang\"\n      }, this.props.page !== this.props.data.totalpage.toString() && __jsx(Link, {\n        as: \"/search/\".concat(this.props.id, \"/\").concat(parseInt(this.props.page) + 1),\n        href: \"/search/[id]/[page]\"\n      }, __jsx(\"a\", {\n        className: \"quantitychapter\"\n      }, \"Trang sau\")), this.props.page !== '1' && __jsx(Link, {\n        as: \"/search/\".concat(this.props.id, \"/\").concat(parseInt(this.props.page) - 1),\n        href: \"/search/[id]/[page]\"\n      }, __jsx(\"a\", {\n        className: \"page\"\n      }, \"Trang tr\\u01B0\\u1EDBc\"))))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(context) {\n        var _context$query, id, page, res, json;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // eslint-disable-next-line no-undef\n                _context$query = context.query, id = _context$query.id, page = _context$query.page;\n                _context.next = 3;\n                return fetch(\"http://localhost:8001/search?id=\".concat(id, \"&page=\").concat(page));\n\n              case 3:\n                res = _context.sent;\n                _context.next = 6;\n                return res.json();\n\n              case 6:\n                json = _context.sent;\n                return _context.abrupt(\"return\", {\n                  data: json,\n                  page: page,\n                  id: id\n                });\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Search;\n}(React.Component);\n\nexport { Search as default };","map":{"version":3,"sources":["C:/Users/bakhjem/Desktop/nhattin/nextjstruyen/pages/search/[id]/[page].js"],"names":["Layout","Link","React","ReactHtmlParser","processNodes","convertNodeToElement","htmlparser2","Helmet","Search","props","id","data","page","marginBottom","length","map","novelsname","idnovel","cover","idchapter","lasterchapter","view","des","totalpage","toString","parseInt","context","query","fetch","res","json","Component"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,MAAP,MAAmB,8BAAnB;AACA,OAAO,oBAAP;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,eAAP,IAA0BC,YAA1B,EAAwCC,oBAAxC,EAA8DC,WAA9D,QAAiF,mBAAjF;AACA,SAASC,MAAT,QAAuB,cAAvB;;IAEqBC,M;;;;;;;;;;;;;6BAUR;AACL;AACA,aACI,MAAC,MAAD,QACI,MAAC,MAAD,QACI,uEADJ,EAEI;AAAM,QAAA,IAAI,EAAC,aAAX;AAAyB,QAAA,OAAO,EAAC;AAAjC,QAFJ,EAGI;AAAM,QAAA,IAAI,EAAC,aAAX;AAAyB,QAAA,OAAO,EAAC;AAAjC,QAHJ,EAII;AAAM,QAAA,IAAI,EAAC,UAAX;AAAsB,QAAA,OAAO,EAAC;AAA9B,QAJJ,CADJ,EAOI;AAAK,QAAA,EAAE,EAAC;AAAR,SACI;AAAK,QAAA,SAAS,EAAC;AAAf,SACI;AAAK,QAAA,SAAS,EAAC;AAAf,SACI;AAAK,QAAA,SAAS,EAAC;AAAf,SACI,mBACI,iBACI;AAAM,QAAA,SAAS,EAAC;AAAhB,QADJ,EAEI;AACI,QAAA,SAAS,MADb;AAEI,QAAA,QAAQ,EAAC;AAFb,SAII,MAAC,IAAD;AAAM,QAAA,IAAI,EAAC;AAAX,SACI;AACI,QAAA,QAAQ,EAAC,KADb;AAEI,QAAA,SAAS,EAAC,MAFd;AAGI,QAAA,KAAK,EAAC;AAHV,SAKI;AAAM,QAAA,QAAQ,EAAC;AAAf,4CALJ,CADJ,CAJJ,CAFJ,EAgBI;AAAM,QAAA,SAAS,EAAC;AAAhB,gBAhBJ,EAiBI;AACI,QAAA,SAAS,MADb;AAEI,QAAA,QAAQ,EAAC;AAFb,SAII,MAAC,IAAD;AACI,QAAA,QAAQ,EAAC,KADb;AAEI,QAAA,EAAE,oBAAa,KAAKC,KAAL,CAAWC,EAAxB,cAA8B,KAAKD,KAAL,CAAWE,IAAX,CAAgBC,IAA9C,CAFN;AAGI,QAAA,IAAI;AAHR,SAKI;AAAM,QAAA,QAAQ,EAAC;AAAf,kBALJ,CAJJ,CAjBJ,EA6BI;AAAM,QAAA,SAAS,EAAC;AAAhB,gBA7BJ,EA6ByC,KAAKH,KAAL,CAAWE,IAAX,CAAgBC,IA7BzD,UADJ,CADJ,CADJ,CADJ,EAsCI;AAAK,QAAA,SAAS,EAAC,mCAAf;AAAmD,QAAA,KAAK,EAAE;AAAEC,UAAAA,YAAY,EAAE;AAAhB;AAA1D,SACK,KAAKJ,KAAL,CAAWE,IAAX,CAAgBA,IAAhB,CAAqBG,MAArB,KAAgC,CAAhC,GACG,KAAKL,KAAL,CAAWE,IAAX,CAAgBA,IAAhB,CAAqBI,GAArB,CAAyB,UAAAJ,IAAI;AAAA,eACzB;AAAK,UAAA,SAAS,EAAC,2BAAf;AAA2C,UAAA,KAAK,EAAEA,IAAI,CAACK;AAAvD,WACI,MAAC,IAAD;AAAM,UAAA,EAAE,oBAAaL,IAAI,CAACM,OAAlB,CAAR;AAAqC,UAAA,IAAI;AAAzC,WACI;AAAG,UAAA,GAAG,EAAC,UAAP;AAAkB,UAAA,KAAK,EAAEN,IAAI,CAACK;AAA9B,WACI;AAAK,UAAA,GAAG,EAAEL,IAAI,CAACO,KAAf;AAAsB,UAAA,GAAG,EAAEP,IAAI,CAACK,UAAhC;AAA4C,UAAA,KAAK,EAAEL,IAAI,CAACK;AAAxD,UADJ,CADJ,CADJ,EAMI;AAAI,UAAA,SAAS,EAAC;AAAd,WACI,MAAC,IAAD;AAAM,UAAA,EAAE,oBAAaL,IAAI,CAACM,OAAlB,CAAR;AAAqC,UAAA,IAAI;AAAzC,WACI;AAAG,UAAA,KAAK,EAAEN,IAAI,CAACK;AAAf,WACKL,IAAI,CAACK,UADV,CADJ,CADJ,CANJ,EAaI,MAAC,IAAD;AAAM,UAAA,EAAE,iBAAUL,IAAI,CAACM,OAAf,cAA0BN,IAAI,CAACQ,SAA/B,CAAR;AAAoD,UAAA,IAAI;AAAxD,WACI;AAAG,UAAA,KAAK,EAAER,IAAI,CAACS,aAAf;AAA8B,UAAA,SAAS,EAAC;AAAxC,WACKT,IAAI,CAACS,aADV,CADJ,CAbJ,EAkBI,8BAAaT,IAAI,CAACU,IAAlB,CAlBJ,EAmBI,iBAAIV,IAAI,CAACW,GAAT,CAnBJ,CADyB;AAAA,OAA7B,CADH,GAuBQ,IAxBb,CAtCJ,EAkEI;AAAK,QAAA,SAAS,EAAC;AAAf,SACK,KAAKb,KAAL,CAAWG,IAAX,KAAqB,KAAKH,KAAL,CAAWE,IAAX,CAAgBY,SAAjB,CAA4BC,QAA5B,EAApB,IACD,MAAC,IAAD;AAAM,QAAA,EAAE,oBAAa,KAAKf,KAAL,CAAWC,EAAxB,cAA+Be,QAAQ,CAAC,KAAKhB,KAAL,CAAWG,IAAZ,CAAR,GAA4B,CAA3D,CAAR;AAAyE,QAAA,IAAI;AAA7E,SACI;AAAG,QAAA,SAAS,EAAC;AAAb,qBADJ,CAFJ,EAMK,KAAKH,KAAL,CAAWG,IAAX,KAAoB,GAApB,IACD,MAAC,IAAD;AAAM,QAAA,EAAE,oBAAa,KAAKH,KAAL,CAAWC,EAAxB,cAA+Be,QAAQ,CAAC,KAAKhB,KAAL,CAAWG,IAAZ,CAAR,GAA4B,CAA3D,CAAR;AAAyE,QAAA,IAAI;AAA7E,SACI;AAAG,QAAA,SAAS,EAAC;AAAb,iCADJ,CAPJ,CAlEJ,CADJ,CAPJ,CADJ;AA2FH;;;;uGAtG4Bc,O;;;;;;;AACzB;iCACoBA,OAAO,CAACC,K,EAApBjB,E,kBAAAA,E,EAAGE,I,kBAAAA,I;;uBACOgB,KAAK,2CAAoClB,EAApC,mBAA+CE,IAA/C,E;;;AAAjBiB,gBAAAA,G;;uBACaA,GAAG,CAACC,IAAJ,E;;;AAAbA,gBAAAA,I;iDAEC;AAAEnB,kBAAAA,IAAI,EAAEmB,IAAR;AAAclB,kBAAAA,IAAI,EAAEA,IAApB;AAAyBF,kBAAAA,EAAE,EAACA;AAA5B,iB;;;;;;;;;;;;;;;;;;;EAPqBR,KAAK,CAAC6B,S;;SAArBvB,M","sourcesContent":["import Layout from '../../../components/MyLayout'\r\nimport 'isomorphic-unfetch'\r\nimport Link from 'next/link'\r\nimport React from 'react'\r\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nexport default class Search extends React.Component {\r\n    static async getInitialProps(context) {\r\n        // eslint-disable-next-line no-undef\r\n        const { id,page } = context.query\r\n        const res = await fetch(`http://localhost:8001/search?id=${id}&page=${page}`)\r\n        const json = await res.json()\r\n        // console.log(json)\r\n        return { data: json, page: page,id:id }\r\n    }\r\n\r\n    render() {\r\n        // console.log(this.props)\r\n        return (\r\n            <Layout>\r\n                <Helmet>\r\n                    <title>Đọc truyện online - YYtruyen.com</title>\r\n                    <meta name=\"description\" content=\"Đọc truyện miễn phí, cập nhật nhanh nhất các truyện ngôn tình, truyện kiếm hiệp, xuyên không, sủng, ngược và nhiều thể loại khác\" />\r\n                    <meta name=\"theme-color\" content=\"#008f68\" />\r\n                    <meta name=\"keywords\" content=\"đọc truyện, đọc truyện online, truyện ngôn tình, truyện kiếm hiệp, xuyên không\" />\r\n                </Helmet>\r\n                <div id=\"main_body\">\r\n                    <div className=\"cotgiua\">\r\n                        <div className=\"breadcrumb breadcrumbs\">\r\n                            <div className=\"rdfa-breadcrumb\">\r\n                                <div>\r\n                                    <p>\r\n                                        <span className=\"breadcrumbs-title\" />\r\n                                        <span\r\n                                            itemScope\r\n                                            itemType=\"http://data-vocabulary.org/Breadcrumb\"\r\n                                        >\r\n                                            <Link href=\"/\">\r\n                                                <a\r\n                                                    itemProp=\"url\"\r\n                                                    className=\"home\"\r\n                                                    title=\"Đọc truyện online\"\r\n                                                >\r\n                                                    <span itemProp=\"title\">Đọc truyện online</span>\r\n                                                </a>\r\n                                            </Link>\r\n                                        </span>\r\n                                        <span className=\"separator\">»</span>\r\n                                        <span\r\n                                            itemScope\r\n                                            itemType=\"http://data-vocabulary.org/Breadcrumb\"\r\n                                        >\r\n                                            <Link\r\n                                                itemProp=\"url\"\r\n                                                as={`/search/${this.props.id}/${this.props.data.page}`}\r\n                                                href={`/search/[id]/[page]`}\r\n                                            >\r\n                                                <span itemProp=\"title\">Latest</span>\r\n                                            </Link>\r\n                                        </span>\r\n                                        <span className=\"separator\">»</span>{this.props.data.page} page\r\n              </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"wrap_update tab_anh_dep danh_sach\" style={{ marginBottom: 10 }}>\r\n                            {this.props.data.data.length !== 0 ?\r\n                                this.props.data.data.map(data => (\r\n                                    <div className=\"update_item list_category\" title={data.novelsname}>\r\n                                        <Link as={`/truyen/${data.idnovel}`} href={`/truyen/[id]`}>\r\n                                            <a rel=\"nofollow\" title={data.novelsname}>\r\n                                                <img src={data.cover} alt={data.novelsname} title={data.novelsname} />\r\n                                            </a>\r\n                                        </Link>\r\n                                        <h3 className=\"nowrap\">\r\n                                            <Link as={`/truyen/${data.idnovel}`} href={`/truyen/[id]`}  >\r\n                                                <a title={data.novelsname}>\r\n                                                    {data.novelsname}\r\n                                                </a>\r\n                                            </Link>\r\n                                        </h3>\r\n                                        <Link as={`/doc/${data.idnovel}/${data.idchapter}`} href={`/doc/[id]/[chapter]`}>\r\n                                            <a title={data.lasterchapter} className=\"chapter\">\r\n                                                {data.lasterchapter}\r\n                                            </a>\r\n                                        </Link>\r\n                                        <span>View: {data.view}</span>\r\n                                        <p>{data.des}</p>\r\n                                    </div>\r\n                                )) : null\r\n                            }\r\n                            {/* <div className=\"clearfix\"></div> */}\r\n                        </div>\r\n                        <div className=\"phan-trang\">\r\n                            {this.props.page !== (this.props.data.totalpage).toString() &&\r\n                            <Link as={`/search/${this.props.id}/${(parseInt(this.props.page) + 1)}`} href={`/search/[id]/[page]`}>\r\n                                <a className=\"quantitychapter\">Trang sau</a>\r\n                                </Link>\r\n                            }\r\n                            {this.props.page !== '1' &&\r\n                            <Link as={`/search/${this.props.id}/${(parseInt(this.props.page) - 1)}`} href={`/search/[id]/[page]`}>\r\n                                <a className=\"page\">Trang trước</a>\r\n                                </Link>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}