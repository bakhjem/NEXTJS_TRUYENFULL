{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Layout from '../../../components/MyLayout';\nimport 'isomorphic-unfetch';\nimport Link from 'next/link';\nimport React from 'react';\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser';\nimport { Helmet } from 'react-helmet';\n\nvar Chapter = /*#__PURE__*/function (_React$Component) {\n  _inherits(Chapter, _React$Component);\n\n  var _super = _createSuper(Chapter);\n\n  function Chapter(props) {\n    var _this;\n\n    _classCallCheck(this, Chapter);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      prechap: '',\n      nextchap: ''\n    };\n    return _this;\n  }\n\n  _createClass(Chapter, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      if (this.props.novelchapter !== prevProps.novelchapter) {\n        fetch(\"http://localhost:8001/novel?id=\".concat(this.props.novelchapter.idnovels)).then(function (r) {\n          return r.json();\n        }).then(function (data) {\n          if (data.chapterlist.length === 1) {\n            _this2.state({\n              prechap: '',\n              nextchap: ''\n            });\n          } else {\n            for (var i = 0; i < data.chapterlist.length; i++) {\n              if (_this2.props.novelchapter.idchapter === data.chapterlist[i].idchapter) {\n                if (i === 0) {\n                  _this2.setState({\n                    prechap: '',\n                    nextchap: data.chapterlist[i + 1].idchapter\n                  }); // return { novelchapter: json, prechap: '', nextchap: json1.chapterlist[i + 1].idchapter }\n\n                }\n\n                if (i > 0 && i < data.chapterlist.length - 1) {\n                  _this2.setState({\n                    prechap: data.chapterlist[i - 1].idchapter,\n                    nextchap: data.chapterlist[i + 1].idchapter\n                  }); // return { novelchapter: json, prechap: json1.chapterlist[i - 1].idchapter, nextchap: json1.chapterlist[i + 1].idchapter }\n\n                }\n\n                if (i === data.chapterlist.length - 1) {\n                  _this2.setState({\n                    prechap: data.chapterlist[i - 1].idchapter,\n                    nextchap: ''\n                  }); // return { novelchapter: json, prechap: json1.chapterlist[i - 1].idchapter, nextchap: '' }\n\n                }\n              }\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      fetch(\"http://localhost:8001/novel?id=\".concat(this.props.novelchapter.idnovels)).then(function (r) {\n        return r.json();\n      }).then(function (data) {\n        if (data.chapterlist.length === 1) {\n          _this3.state({\n            prechap: '',\n            nextchap: ''\n          });\n        } else {\n          for (var i = 0; i < data.chapterlist.length; i++) {\n            if (_this3.props.novelchapter.idchapter === data.chapterlist[i].idchapter) {\n              if (i === 0) {\n                _this3.setState({\n                  prechap: '',\n                  nextchap: data.chapterlist[i + 1].idchapter\n                }); // return { novelchapter: json, prechap: '', nextchap: json1.chapterlist[i + 1].idchapter }\n\n              }\n\n              if (i > 0 && i < data.chapterlist.length - 1) {\n                _this3.setState({\n                  prechap: data.chapterlist[i - 1].idchapter,\n                  nextchap: data.chapterlist[i + 1].idchapter\n                }); // return { novelchapter: json, prechap: json1.chapterlist[i - 1].idchapter, nextchap: json1.chapterlist[i + 1].idchapter }\n\n              }\n\n              if (i === data.chapterlist.length - 1) {\n                _this3.setState({\n                  prechap: data.chapterlist[i - 1].idchapter,\n                  nextchap: ''\n                }); // return { novelchapter: json, prechap: json1.chapterlist[i - 1].idchapter, nextchap: '' }\n\n              }\n            }\n          }\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.props);\n      console.log(this.state);\n      return __jsx(Layout, null, __jsx(Helmet, null, __jsx(\"title\", null, \"\\u0110\\u1ECDc \".concat(this.props.novelchapter.chaptername), \" - YYtruyen\"), __jsx(\"meta\", {\n        name: \"description\",\n        content: \"\\u0110\\u1ECDc truy\\u1EC7n \".concat(this.props.novelchapter.chaptername, \" online free t\\u1EA1i yytruyen.com, c\\u1EADp nh\\u1EADt c\\xE1c ch\\u01B0\\u01A1ng m\\u1EDBi nh\\u1EA5t c\\u1EE7a truy\\u1EC7n n\\xE0y t\\u1EA1i \\u0111\\xE2y nh\\xE9\")\n      }), __jsx(\"meta\", {\n        name: \"theme-color\",\n        content: \"#008f68\"\n      }), __jsx(\"meta\", {\n        name: \"keywords\",\n        content: \"\\u0111\\u1ECDc truy\\u1EC7n online, truy\\u1EC7n online, truy\\u1EC7n ng\\xF4n t\\xECnh, truy\\u1EC7n ki\\u1EBFm hi\\u1EC7p, truy\\u1EC7n ng\\u01B0\\u1EE3c, s\\u1EE7ng\"\n      })), __jsx(\"div\", {\n        className: \"breadcrumb breadcrumbs breadcrumbs_doc\"\n      }, __jsx(\"div\", {\n        className: \"rdfa-breadcrumb\"\n      }, __jsx(\"div\", null, __jsx(\"p\", null, __jsx(\"span\", {\n        className: \"breadcrumbs-title\"\n      }), __jsx(\"span\", null, __jsx(Link, {\n        href: \"/\"\n      }, __jsx(\"a\", {\n        className: \"home\",\n        title: \"\\u0110\\u1ECDc truy\\u1EC7n online\"\n      }, \"\\u0110\\u1ECDc truy\\u1EC7n online\"))), __jsx(\"span\", {\n        className: \"separator\"\n      }, \"\\xBB\"), __jsx(\"span\", null, __jsx(Link, {\n        as: \"/truyen/\".concat(this.props.novelchapter.idnovels),\n        href: \"/truyen/[id]\"\n      }, __jsx(\"a\", {\n        className: \"home\"\n      }, this.props.novelchapter.novelsname))), __jsx(\"span\", {\n        className: \"separator\"\n      }, \"\\xBB\"), \" \", this.props.novelchapter.chaptername)))), __jsx(\"div\", {\n        className: \"menu_doc\",\n        style: {\n          flexDirection: 'row',\n          padding: 10\n        }\n      }, __jsx(Link, {\n        as: \"/truyen/\".concat(this.props.novelchapter.idnovels),\n        href: \"/truyen?id=\".concat(this.props.novelchapter.idnovels)\n      }, __jsx(\"a\", {\n        style: {\n          color: 'white'\n        }\n      }, __jsx(\"button\", {\n        color: \"primary\",\n        style: {\n          margin: 5\n        }\n      }, \"Danh s\\xE1ch ch\\u01B0\\u01A1ng\"))), this.state.prechap !== \"\" && __jsx(Link // className=\"btn_theodoi btn_doc\"\n      , {\n        as: \"/doc/\".concat(this.props.novelchapter.idnovels, \"/\").concat(this.state.prechap),\n        href: \"/doc/[id]/[chapter]\"\n      }, __jsx(\"a\", {\n        rel: \"nofollow\",\n        style: {\n          color: 'white'\n        }\n      }, __jsx(\"button\", {\n        style: {\n          margin: 5\n        }\n      }, \"Ch\\u01B0\\u01A1ng tr\\u01B0\\u1EDBc\"))), this.state.nextchap !== \"\" && __jsx(Link // className=\"btn_theodoi btn_doc\"\n      , {\n        as: \"/doc/\".concat(this.props.novelchapter.idnovels, \"/\").concat(this.state.nextchap),\n        href: \"/doc/[id]/[chapter]\"\n      }, __jsx(\"a\", {\n        rel: \"nofollow\",\n        style: {\n          color: 'white'\n        }\n      }, __jsx(\"button\", {\n        color: \"primary\",\n        style: {\n          margin: 5\n        }\n      }, \"Ch\\u01B0\\u01A1ng sau\")))), __jsx(\"div\", {\n        className: \"hentry\"\n      }, __jsx(\"h1\", {\n        className: \"name_chapter entry-title\"\n      }, this.props.novelchapter.chaptername), __jsx(\"div\", {\n        className: \"entry-content\"\n      }, __jsx(\"div\", {\n        id: \"vung_doc\",\n        className: \"vung_doc\"\n      }, this.props.novelchapter.content !== undefined ? ReactHtmlParser(this.props.novelchapter.content) : null)), __jsx(\"div\", {\n        className: \"menu_doc\",\n        style: {\n          flexDirection: 'row',\n          padding: 10\n        }\n      }, __jsx(Link, {\n        as: \"/truyen/\".concat(this.props.novelchapter.idnovels),\n        href: \"/truyen/[id]\"\n      }, __jsx(\"a\", {\n        style: {\n          color: 'white'\n        }\n      }, __jsx(\"button\", {\n        color: \"primary\",\n        style: {\n          margin: 5\n        }\n      }, \"Danh s\\xE1ch ch\\u01B0\\u01A1ng\"))), this.state.prechap !== \"\" && __jsx(Link // className=\"btn_theodoi btn_doc\"\n      , {\n        as: \"/doc/\".concat(this.props.novelchapter.idnovels, \"/\").concat(this.state.prechap),\n        href: \"/doc/[id]/[chapter]\"\n      }, __jsx(\"a\", {\n        rel: \"nofollow\",\n        style: {\n          color: 'white'\n        }\n      }, __jsx(\"button\", {\n        color: \"primary\",\n        style: {\n          margin: 5\n        }\n      }, \"Ch\\u01B0\\u01A1ng tr\\u01B0\\u1EDBc\"))), this.state.nextchap !== \"\" && __jsx(Link // className=\"btn_theodoi btn_doc\"\n      , {\n        as: \"/doc/\".concat(this.props.novelchapter.idnovels, \"/\").concat(this.state.nextchap),\n        href: \"/doc/[id]/[chapter]\"\n      }, __jsx(\"a\", {\n        rel: \"nofollow\",\n        style: {\n          color: 'white'\n        }\n      }, __jsx(\"button\", {\n        color: \"primary\",\n        style: {\n          margin: 5\n        }\n      }, \"Ch\\u01B0\\u01A1ng sau\"))))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(context) {\n        var _context$query, id, chapter, res, json;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // eslint-disable-next-line no-undef\n                _context$query = context.query, id = _context$query.id, chapter = _context$query.chapter;\n                _context.next = 3;\n                return fetch(\"http://localhost:8001/chapter?novelid=\".concat(id, \"&chapterid=\").concat(chapter));\n\n              case 3:\n                res = _context.sent;\n                _context.next = 6;\n                return res.json();\n\n              case 6:\n                json = _context.sent;\n                return _context.abrupt(\"return\", {\n                  novelchapter: json\n                });\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Chapter;\n}(React.Component);\n\nexport { Chapter as default };","map":{"version":3,"sources":["C:/Users/bakhjem/Desktop/nhattin/nextjstruyen/pages/doc/[id]/[chapter].js"],"names":["Layout","Link","React","ReactHtmlParser","processNodes","convertNodeToElement","htmlparser2","Helmet","Chapter","props","state","prechap","nextchap","prevProps","prevState","novelchapter","fetch","idnovels","then","r","json","data","chapterlist","length","i","idchapter","setState","console","log","chaptername","novelsname","flexDirection","padding","color","margin","content","undefined","context","query","id","chapter","res","Component"],"mappings":"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","sourcesContent":["import Layout from '../../../components/MyLayout'\r\nimport 'isomorphic-unfetch'\r\nimport Link from 'next/link'\r\nimport React from 'react'\r\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nexport default class Chapter extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state ={\r\n            prechap:'',\r\n            nextchap:''\r\n        }\r\n    }\r\n    \r\n    static async getInitialProps(context) {\r\n        // eslint-disable-next-line no-undef\r\n        const { id, chapter } = context.query\r\n        const res = await fetch(`http://localhost:8001/chapter?novelid=${id}&chapterid=${chapter}`)\r\n        // const res1 = await fetch(`http://localhost:8001/novel?id=${id}`)\r\n        const json = await res.json()\r\n        // const json1 = await res1.json();\r\n        // let prechap = '', nextchap = ''\r\n        // if (json1.chapterlist.length === 1) {\r\n        //     return { novelchapter: json, prechap: '', nextchap: '' }\r\n        // } else {\r\n        //     for (let i = 0; i < json1.chapterlist.length; i++) {\r\n        //         if (\r\n        //             json.idchapter ===\r\n        //             json1.chapterlist[i].idchapter\r\n        //         ) {\r\n        //             if (i === 0) {\r\n        //                 return { novelchapter: json, prechap: '', nextchap: json1.chapterlist[i + 1].idchapter }\r\n\r\n        //             }\r\n        //             if (i > 0 && i < json1.chapterlist.length - 1) {\r\n        //                 return { novelchapter: json, prechap: json1.chapterlist[i - 1].idchapter, nextchap: json1.chapterlist[i + 1].idchapter }\r\n        //             }\r\n        //             if (i === json1.chapterlist.length - 1) {\r\n        //                 return { novelchapter: json, prechap: json1.chapterlist[i - 1].idchapter, nextchap: '' }\r\n        //             }\r\n        //         }\r\n        //     }\r\n        // }\r\n        // console.log(json)\r\n        return { novelchapter: json }\r\n    }\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if(this.props.novelchapter !== prevProps.novelchapter){\r\n            fetch(`http://localhost:8001/novel?id=${this.props.novelchapter.idnovels}`)\r\n            .then(r => r.json())\r\n            .then(data => {\r\n                if (data.chapterlist.length === 1) {\r\n                    this.state({prechap:'',nextchap:''})\r\n                } else {\r\n                    for (let i = 0; i < data.chapterlist.length; i++) {\r\n                        if (\r\n                            this.props.novelchapter.idchapter ===\r\n                            data.chapterlist[i].idchapter\r\n                        ) {\r\n                            if (i === 0) {\r\n                                this.setState({prechap:'',nextchap: data.chapterlist[i + 1].idchapter})\r\n                                // return { novelchapter: json, prechap: '', nextchap: json1.chapterlist[i + 1].idchapter }\r\n        \r\n                            }\r\n                            if (i > 0 && i < data.chapterlist.length - 1) {\r\n                                this.setState({prechap:data.chapterlist[i - 1].idchapter,nextchap: data.chapterlist[i + 1].idchapter})\r\n                                // return { novelchapter: json, prechap: json1.chapterlist[i - 1].idchapter, nextchap: json1.chapterlist[i + 1].idchapter }\r\n                            }\r\n                            if (i === data.chapterlist.length - 1) {\r\n                                this.setState({prechap:data.chapterlist[i - 1].idchapter,nextchap:''})\r\n                                // return { novelchapter: json, prechap: json1.chapterlist[i - 1].idchapter, nextchap: '' }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n    \r\n    componentDidMount() {\r\n        fetch(`http://localhost:8001/novel?id=${this.props.novelchapter.idnovels}`)\r\n            .then(r => r.json())\r\n            .then(data => {\r\n                if (data.chapterlist.length === 1) {\r\n                    this.state({prechap:'',nextchap:''})\r\n                } else {\r\n                    for (let i = 0; i < data.chapterlist.length; i++) {\r\n                        if (\r\n                            this.props.novelchapter.idchapter ===\r\n                            data.chapterlist[i].idchapter\r\n                        ) {\r\n                            if (i === 0) {\r\n                                this.setState({prechap:'',nextchap: data.chapterlist[i + 1].idchapter})\r\n                                // return { novelchapter: json, prechap: '', nextchap: json1.chapterlist[i + 1].idchapter }\r\n        \r\n                            }\r\n                            if (i > 0 && i < data.chapterlist.length - 1) {\r\n                                this.setState({prechap:data.chapterlist[i - 1].idchapter,nextchap: data.chapterlist[i + 1].idchapter})\r\n                                // return { novelchapter: json, prechap: json1.chapterlist[i - 1].idchapter, nextchap: json1.chapterlist[i + 1].idchapter }\r\n                            }\r\n                            if (i === data.chapterlist.length - 1) {\r\n                                this.setState({prechap:data.chapterlist[i - 1].idchapter,nextchap:''})\r\n                                // return { novelchapter: json, prechap: json1.chapterlist[i - 1].idchapter, nextchap: '' }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n    }\r\n    \r\n\r\n    render() {\r\n        console.log(this.props)\r\n        console.log(this.state)\r\n        return (\r\n            <Layout>\r\n                <Helmet>\r\n                    <title>{`Đọc ${this.props.novelchapter.chaptername}`} - YYtruyen</title>\r\n                    <meta name=\"description\" content={`Đọc truyện ${this.props.novelchapter.chaptername} online free tại yytruyen.com, cập nhật các chương mới nhất của truyện này tại đây nhé`} />\r\n                    <meta name=\"theme-color\" content=\"#008f68\" />\r\n                    <meta name=\"keywords\" content=\"đọc truyện online, truyện online, truyện ngôn tình, truyện kiếm hiệp, truyện ngược, sủng\" />\r\n                </Helmet>\r\n                <div className=\"breadcrumb breadcrumbs breadcrumbs_doc\">\r\n                    <div className=\"rdfa-breadcrumb\">\r\n                        <div>\r\n                            <p>\r\n                                <span className=\"breadcrumbs-title\" />\r\n                                <span>\r\n                                    <Link href=\"/\"  >\r\n                                        <a className=\"home\" title=\"Đọc truyện online\">\r\n                                            Đọc truyện online\r\n                    </a>\r\n                                    </Link>\r\n                                </span>\r\n                                <span className=\"separator\">»</span>\r\n                                <span>\r\n                                    <Link\r\n                                        as={`/truyen/${this.props.novelchapter.idnovels}`}\r\n                                        href={`/truyen/[id]`}\r\n                                    >\r\n                                        <a className=\"home\">\r\n                                            {this.props.novelchapter.novelsname}\r\n                                        </a>\r\n                                    </Link>\r\n                                </span>\r\n                                <span className=\"separator\">»</span>{\" \"}\r\n                                {this.props.novelchapter.chaptername}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"menu_doc\" style={{ flexDirection: 'row', padding: 10 }}>\r\n                    <Link\r\n                        as={`/truyen/${this.props.novelchapter.idnovels}`}\r\n                        href={`/truyen?id=${this.props.novelchapter.idnovels}`}>\r\n                        <a style={{ color: 'white' }}>\r\n                            <button color=\"primary\" style={{ margin: 5 }}>\r\n                                Danh sách chương\r\n            </button>\r\n                        </a>\r\n                    </Link>\r\n                    {this.state.prechap !== \"\" && (\r\n                        <Link\r\n\r\n                            // className=\"btn_theodoi btn_doc\"\r\n                            as={`/doc/${this.props.novelchapter.idnovels}/${this.state.prechap}`}\r\n                            href={`/doc/[id]/[chapter]`}\r\n                        >\r\n                            <a rel=\"nofollow\"\r\n                                style={{ color: 'white' }}>\r\n                                <button style={{ margin: 5 }}>\r\n                                    Chương trước\r\n              </button>\r\n                            </a>\r\n                        </Link>\r\n                    )}\r\n                    {this.state.nextchap !== \"\" && (\r\n\r\n                        <Link\r\n\r\n                            // className=\"btn_theodoi btn_doc\"\r\n                            as={`/doc/${this.props.novelchapter.idnovels}/${this.state.nextchap}`}\r\n                            href={`/doc/[id]/[chapter]`}\r\n                        >\r\n                            <a rel=\"nofollow\"\r\n                                style={{ color: 'white' }}>\r\n                                <button color=\"primary\" style={{ margin: 5 }}>\r\n                                    Chương sau\r\n              </button>\r\n                            </a>\r\n                        </Link>\r\n                    )}\r\n                </div>\r\n                <div className=\"hentry\">\r\n                    <h1 className=\"name_chapter entry-title\">{this.props.novelchapter.chaptername}</h1>\r\n                    <div className=\"entry-content\">\r\n                        <div id=\"vung_doc\" className=\"vung_doc\">\r\n                            {this.props.novelchapter.content !== undefined ?\r\n                                ReactHtmlParser(this.props.novelchapter.content)\r\n                                : null\r\n                            }\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"menu_doc\" style={{ flexDirection: 'row', padding: 10 }}>\r\n                        <Link\r\n                            as={`/truyen/${this.props.novelchapter.idnovels}`}\r\n                            href={`/truyen/[id]`}>\r\n                            <a style={{ color: 'white' }} >\r\n                                <button color=\"primary\" style={{ margin: 5 }}>\r\n                                    Danh sách chương\r\n            </button>\r\n                            </a>\r\n                        </Link>\r\n                        {this.state.prechap !== \"\" && (\r\n                            <Link\r\n\r\n                                // className=\"btn_theodoi btn_doc\"\r\n                                as={`/doc/${this.props.novelchapter.idnovels}/${this.state.prechap}`}\r\n                                href={`/doc/[id]/[chapter]`}\r\n                            >\r\n                                <a rel=\"nofollow\"\r\n                                    style={{ color: 'white' }}>\r\n                                    <button color=\"primary\" style={{ margin: 5 }}>\r\n                                        Chương trước\r\n              </button>\r\n                                </a>\r\n                            </Link>\r\n                        )}\r\n                        {this.state.nextchap !== \"\" && (\r\n\r\n                            <Link\r\n\r\n                                // className=\"btn_theodoi btn_doc\"\r\n                                as={`/doc/${this.props.novelchapter.idnovels}/${this.state.nextchap}`}\r\n                                href={`/doc/[id]/[chapter]`}\r\n                            >\r\n                                <a rel=\"nofollow\"\r\n                                    style={{ color: 'white' }}>\r\n                                    <button color=\"primary\" style={{ margin: 5 }}>\r\n                                        Chương sau\r\n              </button>\r\n                                </a>\r\n                            </Link>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}