{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Layout from '../../../components/MyLayout';\nimport 'isomorphic-unfetch';\nimport Link from 'next/link';\nimport React, { Component, createRef } from 'react';\nimport { createMedia } from '@artsy/fresnel';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser';\nimport { Helmet } from 'react-helmet';\nimport { saveNovel } from '../../../redux/actions/novelActions';\nimport { Container, Breadcrumb, Divider, Dropdown, Grid, Header, Icon, Image, List, Menu, Segment, Visibility, Item, Sticky, Rail, Ref, Button } from 'semantic-ui-react';\n\nvar _createMedia = createMedia({\n  breakpoints: {\n    mobile: 0,\n    tablet: 768,\n    computer: 1024\n  }\n}),\n    MediaContextProvider = _createMedia.MediaContextProvider,\n    Media = _createMedia.Media;\n\nvar menuStyle = {\n  border: 'none',\n  borderRadius: 0,\n  boxShadow: 'none',\n  marginBottom: '1em',\n  marginTop: '4em',\n  transition: 'box-shadow 0.5s ease, padding 0.5s ease'\n};\nvar fixedMenuStyle = {\n  backgroundColor: '#fff',\n  border: '1px solid #ddd',\n  boxShadow: '0px 3px 5px rgba(0, 0, 0, 0.2)'\n};\n\nvar Chapter = /*#__PURE__*/function (_React$Component) {\n  _inherits(Chapter, _React$Component);\n\n  var _super = _createSuper(Chapter);\n\n  function Chapter(props) {\n    var _this;\n\n    _classCallCheck(this, Chapter);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"contextRef\", /*#__PURE__*/createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOverlayRef\", function (c) {\n      var overlayRect = _this.state.overlayRect;\n\n      if (!overlayRect) {\n        _this.setState({\n          overlayRect: _.pick(c.getBoundingClientRect(), 'height', 'width')\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stickOverlay\", function () {\n      return _this.setState({\n        overlayFixed: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"stickTopMenu\", function () {\n      return _this.setState({\n        menuFixed: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unStickOverlay\", function () {\n      return _this.setState({\n        overlayFixed: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"unStickTopMenu\", function () {\n      return _this.setState({\n        menuFixed: false\n      });\n    });\n\n    _this.state = {\n      prechap: '',\n      nextchap: '',\n      menuFixed: false,\n      overlayFixed: false\n    };\n    return _this;\n  }\n\n  _createClass(Chapter, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      if (this.props.novelchapter !== prevProps.novelchapter) {\n        fetch(\"http://localhost:8001/novel?id=\".concat(this.props.novelchapter.idnovels)).then(function (r) {\n          return r.json();\n        }).then(function (data) {\n          if (data.chapterlist.length === 1) {\n            _this2.state({\n              prechap: '',\n              nextchap: ''\n            });\n          } else {\n            for (var i = 0; i < data.chapterlist.length; i++) {\n              if (_this2.props.novelchapter.idchapter === data.chapterlist[i].idchapter) {\n                if (i === 0) {\n                  _this2.setState({\n                    prechap: '',\n                    nextchap: data.chapterlist[i + 1].idchapter\n                  }); // return { novelchapter: json, prechap: '', nextchap: json1.chapterlist[i + 1].idchapter }\n\n                }\n\n                if (i > 0 && i < data.chapterlist.length - 1) {\n                  _this2.setState({\n                    prechap: data.chapterlist[i - 1].idchapter,\n                    nextchap: data.chapterlist[i + 1].idchapter\n                  }); // return { novelchapter: json, prechap: json1.chapterlist[i - 1].idchapter, nextchap: json1.chapterlist[i + 1].idchapter }\n\n                }\n\n                if (i === data.chapterlist.length - 1) {\n                  _this2.setState({\n                    prechap: data.chapterlist[i - 1].idchapter,\n                    nextchap: ''\n                  }); // return { novelchapter: json, prechap: json1.chapterlist[i - 1].idchapter, nextchap: '' }\n\n                }\n              }\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      fetch(\"http://localhost:8001/novel?id=\".concat(this.props.novelchapter.idnovels)).then(function (r) {\n        return r.json();\n      }).then(function (data) {\n        _this3.props.saveNovel(data);\n\n        if (data.chapterlist.length === 1) {\n          _this3.state({\n            prechap: '',\n            nextchap: ''\n          });\n        } else {\n          for (var i = 0; i < data.chapterlist.length; i++) {\n            if (_this3.props.novelchapter.idchapter === data.chapterlist[i].idchapter) {\n              if (i === 0) {\n                _this3.setState({\n                  prechap: '',\n                  nextchap: data.chapterlist[i + 1].idchapter\n                }); // return { novelchapter: json, prechap: '', nextchap: json1.chapterlist[i + 1].idchapter }\n\n              }\n\n              if (i > 0 && i < data.chapterlist.length - 1) {\n                _this3.setState({\n                  prechap: data.chapterlist[i - 1].idchapter,\n                  nextchap: data.chapterlist[i + 1].idchapter\n                }); // return { novelchapter: json, prechap: json1.chapterlist[i - 1].idchapter, nextchap: json1.chapterlist[i + 1].idchapter }\n\n              }\n\n              if (i === data.chapterlist.length - 1) {\n                _this3.setState({\n                  prechap: data.chapterlist[i - 1].idchapter,\n                  nextchap: ''\n                }); // return { novelchapter: json, prechap: json1.chapterlist[i - 1].idchapter, nextchap: '' }\n\n              }\n            }\n          }\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(this.props);\n      console.log(this.state);\n      var _this$state = this.state,\n          menuFixed = _this$state.menuFixed,\n          overlayFixed = _this$state.overlayFixed,\n          overlayRect = _this$state.overlayRect;\n      return __jsx(Layout, null, __jsx(\"style\", null, \"\\n          html, body {\\n            background: #f5f7fa;\\n          }\\n        \"), __jsx(Helmet, null, __jsx(\"title\", null, \"\\u0110\\u1ECDc \".concat(this.props.novelchapter.chaptername), \" - YYtruyen\"), __jsx(\"meta\", {\n        name: \"description\",\n        content: \"\\u0110\\u1ECDc truy\\u1EC7n \".concat(this.props.novelchapter.chaptername, \" online free t\\u1EA1i yytruyen.com, c\\u1EADp nh\\u1EADt c\\xE1c ch\\u01B0\\u01A1ng m\\u1EDBi nh\\u1EA5t c\\u1EE7a truy\\u1EC7n n\\xE0y t\\u1EA1i \\u0111\\xE2y nh\\xE9\")\n      }), __jsx(\"meta\", {\n        name: \"theme-color\",\n        content: \"#008f68\"\n      }), __jsx(\"meta\", {\n        name: \"keywords\",\n        content: \"\\u0111\\u1ECDc truy\\u1EC7n online, truy\\u1EC7n online, truy\\u1EC7n ng\\xF4n t\\xECnh, truy\\u1EC7n ki\\u1EBFm hi\\u1EC7p, truy\\u1EC7n ng\\u01B0\\u1EE3c, s\\u1EE7ng\"\n      })), __jsx(MediaContextProvider, null, __jsx(Media, {\n        greaterThan: \"mobile\"\n      }, __jsx(Visibility, {\n        onBottomPassed: this.stickTopMenu,\n        onBottomVisible: this.unStickTopMenu,\n        once: false\n      }, __jsx(Menu, {\n        borderless: true,\n        fixed: menuFixed ? 'top' : undefined,\n        style: menuFixed ? fixedMenuStyle : menuStyle\n      }, __jsx(Container, null, __jsx(Menu.Item, null, __jsx(Image, {\n        size: \"tiny\",\n        src: \"/logo.png\"\n      })), __jsx(Menu.Item, {\n        header: true\n      }, __jsx(Breadcrumb, {\n        size: 'large'\n      }, __jsx(Breadcrumb.Section, {\n        link: true\n      }, __jsx(Link, {\n        href: \"/\"\n      }, \"Home\")), __jsx(Breadcrumb.Divider, {\n        icon: \"right chevron\"\n      }), __jsx(Breadcrumb.Section, {\n        link: true\n      }, this.props.novelReducer.novelname), __jsx(Breadcrumb.Divider, {\n        icon: \"right chevron\"\n      }), __jsx(Breadcrumb.Section, {\n        active: true\n      }, this.props.novelchapter.chaptername))))))), __jsx(Media, {\n        at: \"mobile\"\n      }, __jsx(Visibility, {\n        onBottomPassed: this.stickTopMenu,\n        onBottomVisible: this.unStickTopMenu,\n        once: false\n      }, __jsx(Menu, {\n        borderless: true,\n        fixed: menuFixed ? 'top' : undefined,\n        style: menuFixed ? fixedMenuStyle : menuStyle\n      }, __jsx(Container, null, __jsx(Menu.Item, null, __jsx(Image, {\n        size: \"tiny\",\n        src: \"/logo.png\"\n      }))))))), __jsx(Container, {\n        text: true,\n        style: {\n          backgroundColor: '#fff'\n        }\n      }, __jsx(Grid, {\n        style: {\n          marginTop: 20\n        }\n      }, __jsx(Grid.Column, {\n        className: \"detail-containers\",\n        mobile: 16,\n        tablet: 16,\n        computer: 16\n      }, __jsx(Ref, {\n        innerRef: this.contextRef\n      }, __jsx(Segment, null, __jsx(Item.Group, {\n        textAlign: \"left\"\n      }, __jsx(Item.Description, {\n        className: \"content\"\n      }, this.props.novelchapter.content !== undefined ? ReactHtmlParser(this.props.novelchapter.content) : null)), __jsx(MediaContextProvider, null, __jsx(Media, {\n        greaterThan: \"mobile\"\n      }, __jsx(Rail, {\n        position: \"right\",\n        style: {\n          marginTop: 100\n        }\n      }, __jsx(Sticky, {\n        offset: 100,\n        bottomOffset: 100,\n        context: this.contextRef\n      }, __jsx(List, null, __jsx(List.Item, null, __jsx(Button, {\n        size: \"large\",\n        circular: true,\n        icon: \"bars\"\n      })), __jsx(List.Item, null, __jsx(Button, {\n        size: \"large\",\n        circular: true,\n        icon: \"font\"\n      })), __jsx(List.Item, null, __jsx(Button, {\n        size: \"large\",\n        circular: true,\n        icon: \"moon\"\n      })))))))))), __jsx(MediaContextProvider, null, __jsx(Media, {\n        greaterThan: \"mobile\"\n      }, __jsx(Grid.Row, {\n        verticalAlign: \"middle\"\n      }, __jsx(Button.Group, {\n        widths: \"3\"\n      }, __jsx(Link, {\n        as: \"/doc/\".concat(this.props.novelchapter.idnovels, \"/\").concat(this.state.prechap),\n        href: \"/doc/[id]/[chapter]\"\n      }, __jsx(Button, {\n        size: \"huge\",\n        color: \"black\",\n        disabled: this.state.prechap !== \"\" ? false : true,\n        labelPosition: \"left\",\n        icon: \"left chevron\",\n        content: \"Prev chapter\"\n      })), __jsx(Button, {\n        size: \"huge\",\n        color: \"black\",\n        icon: \"bars\",\n        content: \"Chapter List\"\n      }), __jsx(Link, {\n        as: \"/doc/\".concat(this.props.novelchapter.idnovels, \"/\").concat(this.state.nextchap),\n        href: \"/doc/[id]/[chapter]\"\n      }, __jsx(Button, {\n        size: \"huge\",\n        color: \"black\",\n        disabled: this.state.nextchap !== \"\" ? false : true,\n        labelPosition: \"right\",\n        icon: \"right chevron\",\n        content: \"Next chapter\"\n      }))))), __jsx(Media, {\n        at: \"mobile\"\n      }, __jsx(Grid.Row, {\n        mobile: 16,\n        tablet: 16,\n        computer: 16,\n        verticalAlign: \"middle\"\n      }, __jsx(Button.Group, {\n        widths: \"3\"\n      }, __jsx(Link, {\n        as: \"/doc/\".concat(this.props.novelchapter.idnovels, \"/\").concat(this.state.prechap),\n        href: \"/doc/[id]/[chapter]\"\n      }, __jsx(Button, {\n        size: \"huge\",\n        color: \"black\",\n        disabled: this.state.prechap !== \"\" ? false : true,\n        labelPosition: \"left\",\n        icon: \"left chevron\"\n      })), __jsx(Button, {\n        size: \"huge\",\n        color: \"black\",\n        icon: \"bars\"\n      }), __jsx(Link, {\n        as: \"/doc/\".concat(this.props.novelchapter.idnovels, \"/\").concat(this.state.nextchap),\n        href: \"/doc/[id]/[chapter]\"\n      }, __jsx(Button, {\n        size: \"huge\",\n        color: \"black\",\n        disabled: this.state.nextchap !== \"\" ? false : true,\n        labelPosition: \"right\",\n        icon: \"right chevron\"\n      })))))))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(context) {\n        var _context$query, id, chapter, res, json;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // eslint-disable-next-line no-undef\n                _context$query = context.query, id = _context$query.id, chapter = _context$query.chapter;\n                _context.next = 3;\n                return fetch(\"http://localhost:8001/chapter?novelid=\".concat(id, \"&chapterid=\").concat(chapter));\n\n              case 3:\n                res = _context.sent;\n                _context.next = 6;\n                return res.json();\n\n              case 6:\n                json = _context.sent;\n                return _context.abrupt(\"return\", {\n                  novelchapter: json\n                });\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Chapter;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    novelReducer: state.novelReducer\n  };\n}\n\nexport default connect(mapStateToProps, {\n  saveNovel: saveNovel\n})(Chapter);","map":{"version":3,"sources":["C:/Users/bakhjem/Desktop/nhattin/nextjstruyen/pages/doc/[id]/[chapter].js"],"names":["Layout","Link","React","Component","createRef","createMedia","connect","PropTypes","ReactHtmlParser","processNodes","convertNodeToElement","htmlparser2","Helmet","saveNovel","Container","Breadcrumb","Divider","Dropdown","Grid","Header","Icon","Image","List","Menu","Segment","Visibility","Item","Sticky","Rail","Ref","Button","breakpoints","mobile","tablet","computer","MediaContextProvider","Media","menuStyle","border","borderRadius","boxShadow","marginBottom","marginTop","transition","fixedMenuStyle","backgroundColor","Chapter","props","c","overlayRect","state","setState","_","pick","getBoundingClientRect","overlayFixed","menuFixed","prechap","nextchap","prevProps","prevState","novelchapter","fetch","idnovels","then","r","json","data","chapterlist","length","i","idchapter","console","log","chaptername","stickTopMenu","unStickTopMenu","undefined","novelReducer","novelname","contextRef","content","context","query","id","chapter","res","mapStateToProps"],"mappings":"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","sourcesContent":["import Layout from '../../../components/MyLayout'\r\nimport 'isomorphic-unfetch'\r\nimport Link from 'next/link'\r\nimport React, { Component, createRef } from 'react';\r\nimport { createMedia } from '@artsy/fresnel'\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser';\r\nimport { Helmet } from 'react-helmet';\r\nimport { saveNovel } from '../../../redux/actions/novelActions'\r\nimport {\r\n    Container, Breadcrumb,\r\n    Divider,\r\n    Dropdown,\r\n    Grid,\r\n    Header,\r\n    Icon,\r\n    Image,\r\n    List,\r\n    Menu,\r\n    Segment,\r\n    Visibility,\r\n    Item,\r\n    Sticky, Rail,\r\n    Ref, Button\r\n} from 'semantic-ui-react';\r\nconst { MediaContextProvider, Media } = createMedia({\r\n    breakpoints: {\r\n        mobile: 0,\r\n        tablet: 768,\r\n        computer: 1024,\r\n    },\r\n})\r\nconst menuStyle = {\r\n    border: 'none',\r\n    borderRadius: 0,\r\n    boxShadow: 'none',\r\n    marginBottom: '1em',\r\n    marginTop: '4em',\r\n    transition: 'box-shadow 0.5s ease, padding 0.5s ease',\r\n}\r\n\r\nconst fixedMenuStyle = {\r\n    backgroundColor: '#fff',\r\n    border: '1px solid #ddd',\r\n    boxShadow: '0px 3px 5px rgba(0, 0, 0, 0.2)',\r\n}\r\nclass Chapter extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            prechap: '',\r\n            nextchap: '',\r\n            menuFixed: false,\r\n            overlayFixed: false,\r\n        }\r\n    }\r\n    contextRef = createRef()\r\n    handleOverlayRef = (c) => {\r\n        const { overlayRect } = this.state\r\n\r\n        if (!overlayRect) {\r\n            this.setState({ overlayRect: _.pick(c.getBoundingClientRect(), 'height', 'width') })\r\n        }\r\n    }\r\n\r\n    stickOverlay = () => this.setState({ overlayFixed: true })\r\n\r\n    stickTopMenu = () => this.setState({ menuFixed: true })\r\n\r\n    unStickOverlay = () => this.setState({ overlayFixed: false })\r\n\r\n    unStickTopMenu = () => this.setState({ menuFixed: false })\r\n    static async getInitialProps(context) {\r\n        // eslint-disable-next-line no-undef\r\n        const { id, chapter } = context.query\r\n        const res = await fetch(`http://localhost:8001/chapter?novelid=${id}&chapterid=${chapter}`)\r\n        // const res1 = await fetch(`http://localhost:8001/novel?id=${id}`)\r\n        const json = await res.json()\r\n        // const json1 = await res1.json();\r\n        // let prechap = '', nextchap = ''\r\n        // if (json1.chapterlist.length === 1) {\r\n        //     return { novelchapter: json, prechap: '', nextchap: '' }\r\n        // } else {\r\n        //     for (let i = 0; i < json1.chapterlist.length; i++) {\r\n        //         if (\r\n        //             json.idchapter ===\r\n        //             json1.chapterlist[i].idchapter\r\n        //         ) {\r\n        //             if (i === 0) {\r\n        //                 return { novelchapter: json, prechap: '', nextchap: json1.chapterlist[i + 1].idchapter }\r\n\r\n        //             }\r\n        //             if (i > 0 && i < json1.chapterlist.length - 1) {\r\n        //                 return { novelchapter: json, prechap: json1.chapterlist[i - 1].idchapter, nextchap: json1.chapterlist[i + 1].idchapter }\r\n        //             }\r\n        //             if (i === json1.chapterlist.length - 1) {\r\n        //                 return { novelchapter: json, prechap: json1.chapterlist[i - 1].idchapter, nextchap: '' }\r\n        //             }\r\n        //         }\r\n        //     }\r\n        // }\r\n        // console.log(json)\r\n        return { novelchapter: json }\r\n    }\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (this.props.novelchapter !== prevProps.novelchapter) {\r\n            fetch(`http://localhost:8001/novel?id=${this.props.novelchapter.idnovels}`)\r\n                .then(r => r.json())\r\n                .then(data => {\r\n                    if (data.chapterlist.length === 1) {\r\n                        this.state({ prechap: '', nextchap: '' })\r\n                    } else {\r\n                        for (let i = 0; i < data.chapterlist.length; i++) {\r\n                            if (\r\n                                this.props.novelchapter.idchapter ===\r\n                                data.chapterlist[i].idchapter\r\n                            ) {\r\n                                if (i === 0) {\r\n                                    this.setState({ prechap: '', nextchap: data.chapterlist[i + 1].idchapter })\r\n                                    // return { novelchapter: json, prechap: '', nextchap: json1.chapterlist[i + 1].idchapter }\r\n\r\n                                }\r\n                                if (i > 0 && i < data.chapterlist.length - 1) {\r\n                                    this.setState({ prechap: data.chapterlist[i - 1].idchapter, nextchap: data.chapterlist[i + 1].idchapter })\r\n                                    // return { novelchapter: json, prechap: json1.chapterlist[i - 1].idchapter, nextchap: json1.chapterlist[i + 1].idchapter }\r\n                                }\r\n                                if (i === data.chapterlist.length - 1) {\r\n                                    this.setState({ prechap: data.chapterlist[i - 1].idchapter, nextchap: '' })\r\n                                    // return { novelchapter: json, prechap: json1.chapterlist[i - 1].idchapter, nextchap: '' }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(`http://localhost:8001/novel?id=${this.props.novelchapter.idnovels}`)\r\n            .then(r => r.json())\r\n            .then(data => {\r\n                this.props.saveNovel(data)\r\n                if (data.chapterlist.length === 1) {\r\n                    this.state({ prechap: '', nextchap: '' })\r\n                } else {\r\n                    for (let i = 0; i < data.chapterlist.length; i++) {\r\n                        if (\r\n                            this.props.novelchapter.idchapter ===\r\n                            data.chapterlist[i].idchapter\r\n                        ) {\r\n                            if (i === 0) {\r\n                                this.setState({ prechap: '', nextchap: data.chapterlist[i + 1].idchapter })\r\n                                // return { novelchapter: json, prechap: '', nextchap: json1.chapterlist[i + 1].idchapter }\r\n\r\n                            }\r\n                            if (i > 0 && i < data.chapterlist.length - 1) {\r\n                                this.setState({ prechap: data.chapterlist[i - 1].idchapter, nextchap: data.chapterlist[i + 1].idchapter })\r\n                                // return { novelchapter: json, prechap: json1.chapterlist[i - 1].idchapter, nextchap: json1.chapterlist[i + 1].idchapter }\r\n                            }\r\n                            if (i === data.chapterlist.length - 1) {\r\n                                this.setState({ prechap: data.chapterlist[i - 1].idchapter, nextchap: '' })\r\n                                // return { novelchapter: json, prechap: json1.chapterlist[i - 1].idchapter, nextchap: '' }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props)\r\n        console.log(this.state)\r\n        const { menuFixed, overlayFixed, overlayRect } = this.state;\r\n        return (\r\n            <Layout>\r\n                <style>\r\n                    {`\r\n          html, body {\r\n            background: #f5f7fa;\r\n          }\r\n        `}\r\n                </style>\r\n                <Helmet>\r\n                    <title>{`Đọc ${this.props.novelchapter.chaptername}`} - YYtruyen</title>\r\n                    <meta name=\"description\" content={`Đọc truyện ${this.props.novelchapter.chaptername} online free tại yytruyen.com, cập nhật các chương mới nhất của truyện này tại đây nhé`} />\r\n                    <meta name=\"theme-color\" content=\"#008f68\" />\r\n                    <meta name=\"keywords\" content=\"đọc truyện online, truyện online, truyện ngôn tình, truyện kiếm hiệp, truyện ngược, sủng\" />\r\n                </Helmet>\r\n                <MediaContextProvider>\r\n                    <Media greaterThan='mobile'>\r\n                        <Visibility\r\n                            onBottomPassed={this.stickTopMenu}\r\n                            onBottomVisible={this.unStickTopMenu}\r\n                            once={false}\r\n                        >\r\n                            <Menu\r\n                                borderless\r\n                                fixed={menuFixed ? 'top' : undefined}\r\n                                style={menuFixed ? fixedMenuStyle : menuStyle}\r\n                            >\r\n                                <Container>\r\n                                    <Menu.Item>\r\n                                        <Image size='tiny' src='/logo.png' />\r\n                                    </Menu.Item>\r\n                                    <Menu.Item header>\r\n                                        <Breadcrumb size={'large'}>\r\n                                            <Breadcrumb.Section link><Link href='/'>Home</Link></Breadcrumb.Section>\r\n                                            <Breadcrumb.Divider icon='right chevron' />\r\n                                            <Breadcrumb.Section link>{this.props.novelReducer.novelname}</Breadcrumb.Section>\r\n                                            <Breadcrumb.Divider icon='right chevron' />\r\n                                            <Breadcrumb.Section active>{this.props.novelchapter.chaptername}</Breadcrumb.Section>\r\n                                        </Breadcrumb>\r\n                                    </Menu.Item>\r\n                                </Container>\r\n                            </Menu>\r\n                        </Visibility>\r\n                    </Media>\r\n                    <Media at='mobile'>\r\n                        <Visibility\r\n                            onBottomPassed={this.stickTopMenu}\r\n                            onBottomVisible={this.unStickTopMenu}\r\n                            once={false}\r\n                        >\r\n                            <Menu\r\n                                borderless\r\n                                fixed={menuFixed ? 'top' : undefined}\r\n                                style={menuFixed ? fixedMenuStyle : menuStyle}\r\n                            >\r\n                                <Container>\r\n                                    <Menu.Item>\r\n                                        <Image size='tiny' src='/logo.png' />\r\n                                    </Menu.Item>\r\n                                </Container>\r\n                            </Menu>\r\n                        </Visibility>\r\n                    </Media>\r\n                </MediaContextProvider>\r\n                <Container text style={{ backgroundColor: '#fff' }}>\r\n                    <Grid style={{ marginTop: 20 }}>\r\n                        <Grid.Column className='detail-containers' mobile={16} tablet={16} computer={16}>\r\n                            <Ref innerRef={this.contextRef}>\r\n                                <Segment>\r\n                                    <Item.Group textAlign='left'>\r\n                                        <Item.Description className='content' >\r\n                                            {this.props.novelchapter.content !== undefined ?\r\n                                                ReactHtmlParser(this.props.novelchapter.content)\r\n                                                : null\r\n                                            }\r\n                                        </Item.Description>\r\n                                    </Item.Group>\r\n                                    <MediaContextProvider>\r\n                                        <Media greaterThan='mobile'>\r\n                                            <Rail position='right' style={{ marginTop: 100 }}>\r\n                                                <Sticky offset={100} bottomOffset={100} context={this.contextRef}>\r\n                                                    <List>\r\n                                                        <List.Item>\r\n                                                            <Button size='large' circular icon='bars' />\r\n                                                        </List.Item>\r\n                                                        <List.Item>\r\n                                                            <Button size='large' circular icon='font' />\r\n                                                        </List.Item>\r\n                                                        <List.Item>\r\n                                                            <Button size='large' circular icon='moon' />\r\n                                                        </List.Item>\r\n                                                    </List>\r\n                                                </Sticky>\r\n                                            </Rail>\r\n                                        </Media>\r\n                                    </MediaContextProvider>\r\n                                </Segment>\r\n                            </Ref>\r\n                        </Grid.Column>\r\n                        <MediaContextProvider>\r\n                            <Media greaterThan='mobile'>\r\n                                <Grid.Row verticalAlign='middle'>\r\n                                    <Button.Group widths='3'>\r\n                                        <Link\r\n                                            as={`/doc/${this.props.novelchapter.idnovels}/${this.state.prechap}`}\r\n                                            href={`/doc/[id]/[chapter]`}\r\n                                        >\r\n                                            <Button size='huge' color='black' disabled={this.state.prechap !== \"\" ? false : true} labelPosition='left' icon='left chevron' content='Prev chapter' />\r\n                                        </Link>\r\n\r\n                                        <Button size='huge' color='black' icon='bars' content='Chapter List' />\r\n                                        <Link\r\n                                            as={`/doc/${this.props.novelchapter.idnovels}/${this.state.nextchap}`}\r\n                                            href={`/doc/[id]/[chapter]`}\r\n                                        >\r\n                                            <Button size='huge' color='black' disabled={this.state.nextchap !== \"\" ? false : true} labelPosition='right' icon='right chevron' content='Next chapter' />\r\n                                        </Link>\r\n                                    </Button.Group>\r\n                                </Grid.Row>\r\n                            </Media>\r\n                            <Media at='mobile'>\r\n                                <Grid.Row mobile={16} tablet={16} computer={16} verticalAlign='middle'>\r\n                                    <Button.Group widths='3'>\r\n                                        <Link\r\n                                            as={`/doc/${this.props.novelchapter.idnovels}/${this.state.prechap}`}\r\n                                            href={`/doc/[id]/[chapter]`}\r\n                                        >\r\n                                            <Button size='huge' color='black' disabled={this.state.prechap !== \"\" ? false : true} labelPosition='left' icon='left chevron' />\r\n                                        </Link>\r\n\r\n                                        <Button size='huge' color='black' icon='bars' />\r\n                                        <Link\r\n                                            as={`/doc/${this.props.novelchapter.idnovels}/${this.state.nextchap}`}\r\n                                            href={`/doc/[id]/[chapter]`}\r\n                                        >\r\n                                            <Button size='huge' color='black' disabled={this.state.nextchap !== \"\" ? false : true} labelPosition='right' icon='right chevron' />\r\n                                        </Link>\r\n                                    </Button.Group>\r\n                                </Grid.Row>\r\n                            </Media>\r\n                        </MediaContextProvider>\r\n                    </Grid>\r\n                </Container>\r\n\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        novelReducer: state.novelReducer\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, { saveNovel })(Chapter);"]},"metadata":{},"sourceType":"module"}