{"ast":null,"code":"var __jsx = React.createElement;\nimport 'isomorphic-unfetch';\nimport Link from 'next/link';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser';\nimport { Helmet } from 'react-helmet';\nimport Layout from '../../components/MyLayout';\nimport { createMedia } from '@artsy/fresnel';\nimport { useRouter } from 'next/router';\nimport { saveNovel } from '../../redux/actions/novelActions';\nimport { API_URL } from '../../config/config';\nimport { Button, Container, Divider, Grid, Header, Icon, Image, List, Menu, Segment, Sidebar, Visibility, Item, Label, Tab, Statistic } from 'semantic-ui-react';\nconst {\n  MediaContextProvider,\n  Media\n} = createMedia({\n  breakpoints: {\n    mobile: 0,\n    tablet: 768,\n    computer: 1024\n  }\n});\n\nclass Truyen extends React.Component {\n  static getInitialProps({\n    store\n  }) {}\n\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    console.log(this.props.data);\n    this.props.saveNovel(this.props.data);\n  }\n\n  static async getInitialProps({\n    query: {\n      id\n    }\n  }) {\n    // eslint-disable-next-line no-undef\n    // const { id } = context.query\n    // const router = useRouter()\n    // const { id } = router.query\n    const res = await fetch(`${API_URL}novel?id=${id}`);\n    const json = await res.json(); // console.log(json)\n\n    return {\n      data: json\n    };\n  }\n\n  render() {\n    var _this$props$data$chap;\n\n    console.log(this.props);\n    return __jsx(Layout, null, __jsx(\"style\", null, `\n      html, body {\n        background-color: #f2f3f5 !important;\n      }\n    }\n    `), __jsx(Helmet, null, __jsx(\"title\", null, `${this.props.data.novelsname}`, \" - YYtruyen\"), __jsx(\"meta\", {\n      name: \"description\",\n      content: `Truyện ${this.props.data.novelsname} là tác phẩm của tác giả ${this.props.data.author}, tiến trình: ${this.props.data.status}. Vào yytruyen.com để đọc những chương mới nhất của tác phẩm này nhé  `\n    }), __jsx(\"meta\", {\n      name: \"theme-color\",\n      content: \"#008f68\"\n    }), __jsx(\"meta\", {\n      name: \"keywords\",\n      content: \"\\u0111\\u1ECDc truy\\u1EC7n online, truy\\u1EC7n online, truy\\u1EC7n ng\\xF4n t\\xECnh, truy\\u1EC7n ki\\u1EBFm hi\\u1EC7p, truy\\u1EC7n ng\\u01B0\\u1EE3c, s\\u1EE7ng\"\n    }), __jsx(\"meta\", {\n      property: \"og:title\",\n      content: `${this.props.data.novelsname}`\n    }), __jsx(\"meta\", {\n      property: \"og:type\",\n      content: \"book\"\n    }), __jsx(\"meta\", {\n      property: \"og:image\",\n      content: `${this.props.data.cover}`\n    }), __jsx(\"meta\", {\n      property: \"og:description\",\n      content: `${this.props.data.des}`\n    }), __jsx(\"meta\", {\n      property: \"og:site_name\",\n      content: \"Yytruyen.com\"\n    }), __jsx(\"meta\", {\n      property: \"og:url\",\n      content: `http://yytruyen.com/truyen/${this.props.data.idnovels}`\n    }), __jsx(\"meta\", {\n      property: \"book:author\",\n      content: `${this.props.data.author}`\n    }), __jsx(\"meta\", {\n      property: \"og:image:width\",\n      content: \"200\"\n    }), __jsx(\"meta\", {\n      property: \"og:image:height\",\n      content: \"300\"\n    }), __jsx(\"script\", {\n      type: \"application/ld+json\"\n    }, `\n                    {\n                    \"@context\": \"http://schema.org\",\n                    \"url\": \"http://yytruyen.com/truyen/${this.props.data.idnovels}\",\n                    \"image\": \"${this.props.data.cover}\",\n                    \"@type\": \"Book\",\n                    \"name\": \"${this.props.data.novelsname}\",\n                    \"author\": \"${this.props.data.author}\",\n                    \"description\": \"${this.props.data.des}\"\n                    }\n                    `)), __jsx(MediaContextProvider, null, __jsx(Media, {\n      greaterThan: \"mobile\"\n    }, __jsx(Segment, {\n      inverted: true,\n      style: {\n        maxHeight: '32.625rem',\n        padding: '1em 0em'\n      },\n      vertical: true\n    }, __jsx(\"div\", {\n      className: \"book-info\"\n    }, __jsx(\"img\", {\n      className: \"glass_background-img\",\n      src: this.props.data.cover\n    }), __jsx(Container, {\n      style: {}\n    }, __jsx(Grid, null, __jsx(Grid.Column, {\n      mobile: 16,\n      tablet: 4,\n      computer: 4\n    }, __jsx(Image, {\n      fluid: true,\n      className: \"item-img\",\n      src: this.props.data.cover,\n      style: {\n        height: '22.75rem'\n      }\n    })), __jsx(Grid.Column, {\n      mobile: 16,\n      tablet: 12,\n      computer: 12\n    }, __jsx(Item.Group, {\n      textAlign: \"left\"\n    }, __jsx(Item.Content, null, __jsx(Item.Header, {\n      className: \"book-title\",\n      as: \"h2\"\n    }, this.props.data.novelsname)), __jsx(Item.Extra, {\n      textAlign: \"left\",\n      style: {\n        marginTop: 10\n      }\n    }, __jsx(\"span\", {\n      className: \"label\"\n    }, \"Author:\"), \" \", this.props.data.author), __jsx(Item.Extra, {\n      textAlign: \"left\",\n      style: {\n        marginTop: 10\n      }\n    }, \"Genres: \", this.props.data.genresdata.map(genresdata => __jsx(Link, {\n      as: `/theloai/${genresdata.idgenres}/1`,\n      href: `/theloai/[id]/[page]`\n    }, __jsx(Label, {\n      as: \"a\",\n      color: \"yellow\"\n    }, __jsx(Label.Detail, null, genresdata.genrename))))), __jsx(Item.Extra, {\n      textAlign: \"left\",\n      style: {\n        marginTop: 10\n      }\n    }, __jsx(\"span\", {\n      className: \"label\"\n    }, \"Status:\"), \" \", this.props.data.status), __jsx(Item.Content, null, __jsx(Statistic.Group, null, __jsx(Statistic, null, __jsx(Statistic.Value, null, (_this$props$data$chap = this.props.data.chapterlist) === null || _this$props$data$chap === void 0 ? void 0 : _this$props$data$chap.length), __jsx(Statistic.Label, null, \"Chapter\")), __jsx(Statistic, null, __jsx(Statistic.Value, null, \"31,200\"), __jsx(Statistic.Label, null, \"Views\"))))), __jsx(Link, {\n      as: `/doc/${this.props.data.idnovels}/${this.props.data.chapterlist[0].idchapter}`,\n      href: `/doc/[id]/[chapter]`\n    }, __jsx(Button, {\n      size: \"huge\",\n      color: \"yellow\"\n    }, \"READ\")))))))), __jsx(Media, {\n      at: \"mobile\"\n    }, __jsx(Segment, {\n      inverted: true,\n      style: {\n        minHeight: '32.625rem',\n        padding: '1em 0em',\n        marginTop: 50\n      },\n      vertical: true\n    }, __jsx(Container, {\n      style: {}\n    }, __jsx(Grid, null, __jsx(Grid.Column, {\n      mobile: 16,\n      tablet: 4,\n      computer: 4\n    }, __jsx(\"div\", {\n      className: \"basic-info_header__31qug\"\n    }, __jsx(\"div\", {\n      className: \"glass_background__p1P4f basic-info_cover-background__1Q9Rl\"\n    }, __jsx(\"img\", {\n      className: \"glass_background-img__2je7l\",\n      src: this.props.data.cover\n    }), __jsx(\"div\", {\n      className: \"glass_shade__3yav5\"\n    })), __jsx(\"div\", {\n      className: \"basic-info_cover-overlay__2gp4w\"\n    }), __jsx(\"div\", {\n      className: \"label_container__3-tcR basic-info_cover-wrapper__1mcNB\"\n    }, __jsx(\"div\", {\n      className: \"image_image-wrapper__3EJJ6 basic-info_cover__XtNRk\"\n    }, __jsx(\"img\", {\n      src: this.props.data.cover,\n      className: \"image_image__j9OCH\"\n    }))))), __jsx(Grid.Column, {\n      mobile: 16,\n      tablet: 12,\n      computer: 12\n    }, __jsx(Item.Group, {\n      textAlign: \"center\"\n    }, __jsx(Item.Content, null, __jsx(Item.Header, {\n      className: \"book-title_m\",\n      as: \"h2\"\n    }, this.props.data.novelsname)), __jsx(Item.Extra, {\n      textAlign: \"left\",\n      style: {\n        marginTop: 10\n      }\n    }, __jsx(\"span\", {\n      className: \"label\"\n    }, \"Author:\"), \" \", this.props.data.author), __jsx(Item.Extra, {\n      textAlign: \"left\",\n      style: {\n        marginTop: 10\n      }\n    }, \"Genres: \", this.props.data.genresdata.map(genresdata => __jsx(Link, {\n      as: `/theloai/${genresdata.idgenres}/1`,\n      href: `/theloai/[id]/[page]`\n    }, __jsx(Label, {\n      as: \"a\",\n      color: \"yellow\"\n    }, __jsx(Label.Detail, null, genresdata.genrename))))), __jsx(Item.Extra, {\n      textAlign: \"left\",\n      style: {\n        marginTop: 10\n      }\n    }, __jsx(\"span\", {\n      className: \"label\"\n    }, \"Status:\"), \" \", this.props.data.status)), __jsx(Item.Group, {\n      className: \"botom_book\",\n      textAlign: \"center\"\n    }, __jsx(Link, {\n      as: `/doc/${this.props.data.idnovels}/${this.props.data.chapterlist[0].idchapter}`,\n      href: `/doc/[id]/[chapter]`\n    }, __jsx(Button, {\n      size: \"huge\",\n      style: {\n        marginBottom: 20\n      },\n      color: \"yellow\"\n    }, \"READ\"))))))))), __jsx(Container, null, __jsx(Grid, null, __jsx(Grid.Column, {\n      className: \"detail-container\",\n      mobile: 16,\n      tablet: 16,\n      computer: 16\n    }, __jsx(Divider, {\n      horizontal: true\n    }, __jsx(Header, {\n      className: \"title-name-bottom\",\n      as: \"h2\"\n    }, \"Synopsis\")), __jsx(Item.Group, {\n      textAlign: \"left\"\n    }, __jsx(Item.Description, {\n      className: \"content\"\n    }, ReactHtmlParser(this.props.data.description))), __jsx(Divider, {\n      horizontal: true\n    }, __jsx(Header, {\n      className: \"title-name-bottom\",\n      as: \"h2\"\n    }, \"Chapter\")), __jsx(Grid, null, this.props.data.chapterlist.map((datachapter, key) => __jsx(Grid.Column, {\n      mobile: 16,\n      tablet: 8,\n      computer: 8,\n      style: {\n        wordBreak: 'break-word',\n        overflow: 'hidden'\n      }\n    }, __jsx(Link, {\n      as: `/doc/${this.props.data.idnovels}/${datachapter.idchapter}`,\n      href: `/doc/[id]/[chapter]`\n    }, __jsx(\"a\", {\n      className: \"chapter\"\n    }, datachapter.chaptername)), __jsx(Divider, {\n      inverted: true\n    }))))))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    novelReducer: state.novelReducer\n  };\n}\n\nexport default connect(mapStateToProps, {\n  saveNovel\n})(Truyen);","map":{"version":3,"sources":["C:/Users/bakhjem/Desktop/nhattin/nextjstruyen/pages/truyen/[id].js"],"names":["Link","React","connect","ReactHtmlParser","processNodes","convertNodeToElement","htmlparser2","Helmet","Layout","createMedia","useRouter","saveNovel","API_URL","Button","Container","Divider","Grid","Header","Icon","Image","List","Menu","Segment","Sidebar","Visibility","Item","Label","Tab","Statistic","MediaContextProvider","Media","breakpoints","mobile","tablet","computer","Truyen","Component","getInitialProps","store","constructor","props","componentDidMount","console","log","data","query","id","res","fetch","json","render","novelsname","author","status","cover","des","idnovels","maxHeight","padding","height","marginTop","genresdata","map","idgenres","genrename","chapterlist","length","idchapter","minHeight","marginBottom","description","datachapter","key","wordBreak","overflow","chaptername","mapStateToProps","state","novelReducer"],"mappings":";AAAA,OAAO,oBAAP;AACA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,eAAP,IAA0BC,YAA1B,EAAwCC,oBAAxC,EAA8DC,WAA9D,QAAiF,mBAAjF;AACA,SAASC,MAAT,QAAuB,cAAvB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,SAAT,QAA0B,kCAA1B;AACA,SAASC,OAAT,QAAwB,qBAAxB;AACA,SACIC,MADJ,EAEIC,SAFJ,EAGIC,OAHJ,EAIIC,IAJJ,EAKIC,MALJ,EAMIC,IANJ,EAOIC,KAPJ,EAQIC,IARJ,EASIC,IATJ,EAUIC,OAVJ,EAWIC,OAXJ,EAYIC,UAZJ,EAaIC,IAbJ,EAcIC,KAdJ,EAeIC,GAfJ,EAeSC,SAfT,QAgBO,mBAhBP;AAiBA,MAAM;AAAEC,EAAAA,oBAAF;AAAwBC,EAAAA;AAAxB,IAAkCrB,WAAW,CAAC;AAChDsB,EAAAA,WAAW,EAAE;AACTC,IAAAA,MAAM,EAAE,CADC;AAETC,IAAAA,MAAM,EAAE,GAFC;AAGTC,IAAAA,QAAQ,EAAE;AAHD;AADmC,CAAD,CAAnD;;AAOA,MAAMC,MAAN,SAAqBlC,KAAK,CAACmC,SAA3B,CAAqC;AACjC,SAAOC,eAAP,CAAuB;AAAEC,IAAAA;AAAF,GAAvB,EAAkC,CAAG;;AAErCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACH;;AACDC,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKH,KAAL,CAAWI,IAAvB;AACA,SAAKJ,KAAL,CAAW7B,SAAX,CAAqB,KAAK6B,KAAL,CAAWI,IAAhC;AACH;;AAED,eAAaP,eAAb,CAA6B;AAAEQ,IAAAA,KAAK,EAAE;AAAEC,MAAAA;AAAF;AAAT,GAA7B,EAAgD;AAC5C;AACA;AACA;AACA;AACA,UAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,GAAEpC,OAAQ,YAAWkC,EAAG,EAA1B,CAAvB;AACA,UAAMG,IAAI,GAAG,MAAMF,GAAG,CAACE,IAAJ,EAAnB,CAN4C,CAO5C;;AAEA,WAAO;AAAEL,MAAAA,IAAI,EAAEK;AAAR,KAAP;AACH;;AAEDC,EAAAA,MAAM,GAAG;AAAA;;AACLR,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKH,KAAjB;AAEA,WACI,MAAC,MAAD,QACI,qBACM;AACtB;AACA;AACA;AACA;AACA,KANgB,CADJ,EASI,MAAC,MAAD,QACI,qBAAS,GAAE,KAAKA,KAAL,CAAWI,IAAX,CAAgBO,UAAW,EAAtC,gBADJ,EAEI;AAAM,MAAA,IAAI,EAAC,aAAX;AAAyB,MAAA,OAAO,EAAG,UAAS,KAAKX,KAAL,CAAWI,IAAX,CAAgBO,UAAW,4BAA2B,KAAKX,KAAL,CAAWI,IAAX,CAAgBQ,MAAO,iBAAgB,KAAKZ,KAAL,CAAWI,IAAX,CAAgBS,MAAO;AAAhK,MAFJ,EAGI;AAAM,MAAA,IAAI,EAAC,aAAX;AAAyB,MAAA,OAAO,EAAC;AAAjC,MAHJ,EAII;AAAM,MAAA,IAAI,EAAC,UAAX;AAAsB,MAAA,OAAO,EAAC;AAA9B,MAJJ,EAKI;AAAM,MAAA,QAAQ,EAAC,UAAf;AAA0B,MAAA,OAAO,EAAG,GAAE,KAAKb,KAAL,CAAWI,IAAX,CAAgBO,UAAW;AAAjE,MALJ,EAMI;AAAM,MAAA,QAAQ,EAAC,SAAf;AAAyB,MAAA,OAAO,EAAC;AAAjC,MANJ,EAOI;AAAM,MAAA,QAAQ,EAAC,UAAf;AAA0B,MAAA,OAAO,EAAG,GAAE,KAAKX,KAAL,CAAWI,IAAX,CAAgBU,KAAM;AAA5D,MAPJ,EAQI;AAAM,MAAA,QAAQ,EAAC,gBAAf;AAAgC,MAAA,OAAO,EAAG,GAAE,KAAKd,KAAL,CAAWI,IAAX,CAAgBW,GAAI;AAAhE,MARJ,EASI;AAAM,MAAA,QAAQ,EAAC,cAAf;AAA8B,MAAA,OAAO,EAAC;AAAtC,MATJ,EAUI;AAAM,MAAA,QAAQ,EAAC,QAAf;AAAwB,MAAA,OAAO,EAAG,8BAA6B,KAAKf,KAAL,CAAWI,IAAX,CAAgBY,QAAS;AAAxF,MAVJ,EAWI;AAAM,MAAA,QAAQ,EAAC,aAAf;AAA6B,MAAA,OAAO,EAAG,GAAE,KAAKhB,KAAL,CAAWI,IAAX,CAAgBQ,MAAO;AAAhE,MAXJ,EAYI;AAAM,MAAA,QAAQ,EAAC,gBAAf;AAAgC,MAAA,OAAO,EAAC;AAAxC,MAZJ,EAaI;AAAM,MAAA,QAAQ,EAAC,iBAAf;AAAiC,MAAA,OAAO,EAAC;AAAzC,MAbJ,EAeI;AAAQ,MAAA,IAAI,EAAC;AAAb,OAAqC;AACzD;AACA;AACA,yDAAyD,KAAKZ,KAAL,CAAWI,IAAX,CAAgBY,QAAS;AAClF,gCAAgC,KAAKhB,KAAL,CAAWI,IAAX,CAAgBU,KAAM;AACtD;AACA,+BAA+B,KAAKd,KAAL,CAAWI,IAAX,CAAgBO,UAAW;AAC1D,iCAAiC,KAAKX,KAAL,CAAWI,IAAX,CAAgBQ,MAAO;AACxD,sCAAsC,KAAKZ,KAAL,CAAWI,IAAX,CAAgBW,GAAI;AAC1D;AACA,qBAVoB,CAfJ,CATJ,EAoCI,MAAC,oBAAD,QACI,MAAC,KAAD;AAAO,MAAA,WAAW,EAAC;AAAnB,OACI,MAAC,OAAD;AACI,MAAA,QAAQ,MADZ;AAEI,MAAA,KAAK,EAAE;AAAEE,QAAAA,SAAS,EAAE,WAAb;AAA0BC,QAAAA,OAAO,EAAE;AAAnC,OAFX;AAGI,MAAA,QAAQ;AAHZ,OAKI;AAAK,MAAA,SAAS,EAAC;AAAf,OACI;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAsC,MAAA,GAAG,EAAE,KAAKlB,KAAL,CAAWI,IAAX,CAAgBU;AAA3D,MADJ,EAEI,MAAC,SAAD;AAAW,MAAA,KAAK,EAAE;AAAlB,OACI,MAAC,IAAD,QACI,MAAC,IAAD,CAAM,MAAN;AAAa,MAAA,MAAM,EAAE,EAArB;AAAyB,MAAA,MAAM,EAAE,CAAjC;AAAoC,MAAA,QAAQ,EAAE;AAA9C,OACI,MAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,SAAS,EAAC,UAAvB;AAAkC,MAAA,GAAG,EAAE,KAAKd,KAAL,CAAWI,IAAX,CAAgBU,KAAvD;AAA8D,MAAA,KAAK,EAAE;AAAEK,QAAAA,MAAM,EAAE;AAAV;AAArE,MADJ,CADJ,EAII,MAAC,IAAD,CAAM,MAAN;AAAa,MAAA,MAAM,EAAE,EAArB;AAAyB,MAAA,MAAM,EAAE,EAAjC;AAAqC,MAAA,QAAQ,EAAE;AAA/C,OACI,MAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC;AAAtB,OACI,MAAC,IAAD,CAAM,OAAN,QACI,MAAC,IAAD,CAAM,MAAN;AAAa,MAAA,SAAS,EAAC,YAAvB;AAAoC,MAAA,EAAE,EAAC;AAAvC,OAA6C,KAAKnB,KAAL,CAAWI,IAAX,CAAgBO,UAA7D,CADJ,CADJ,EAII,MAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,MAAtB;AAA6B,MAAA,KAAK,EAAE;AAAES,QAAAA,SAAS,EAAE;AAAb;AAApC,OACI;AAAM,MAAA,SAAS,EAAC;AAAhB,iBADJ,OAC4C,KAAKpB,KAAL,CAAWI,IAAX,CAAgBQ,MAD5D,CAJJ,EAOI,MAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,MAAtB;AAA6B,MAAA,KAAK,EAAE;AAAEQ,QAAAA,SAAS,EAAE;AAAb;AAApC,mBACa,KAAKpB,KAAL,CAAWI,IAAX,CAAgBiB,UAAhB,CAA2BC,GAA3B,CAA+BD,UAAU,IAClD,MAAC,IAAD;AAAM,MAAA,EAAE,EAAG,YAAWA,UAAU,CAACE,QAAS,IAA1C;AAA+C,MAAA,IAAI,EAAG;AAAtD,OACI,MAAC,KAAD;AAAO,MAAA,EAAE,EAAC,GAAV;AAAc,MAAA,KAAK,EAAC;AAApB,OACI,MAAC,KAAD,CAAO,MAAP,QAAeF,UAAU,CAACG,SAA1B,CADJ,CADJ,CADS,CADb,CAPJ,EAiBI,MAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,MAAtB;AAA6B,MAAA,KAAK,EAAE;AAAEJ,QAAAA,SAAS,EAAE;AAAb;AAApC,OACI;AAAM,MAAA,SAAS,EAAC;AAAhB,iBADJ,OAC4C,KAAKpB,KAAL,CAAWI,IAAX,CAAgBS,MAD5D,CAjBJ,EAoBI,MAAC,IAAD,CAAM,OAAN,QACI,MAAC,SAAD,CAAW,KAAX,QACI,MAAC,SAAD,QACI,MAAC,SAAD,CAAW,KAAX,iCAAkB,KAAKb,KAAL,CAAWI,IAAX,CAAgBqB,WAAlC,0DAAkB,sBAA6BC,MAA/C,CADJ,EAEI,MAAC,SAAD,CAAW,KAAX,kBAFJ,CADJ,EAKI,MAAC,SAAD,QACI,MAAC,SAAD,CAAW,KAAX,iBADJ,EAEI,MAAC,SAAD,CAAW,KAAX,gBAFJ,CALJ,CADJ,CApBJ,CADJ,EAkCI,MAAC,IAAD;AACI,MAAA,EAAE,EAAG,QAAO,KAAK1B,KAAL,CAAWI,IAAX,CAAgBY,QAAS,IAAG,KAAKhB,KAAL,CAAWI,IAAX,CAAgBqB,WAAhB,CAA4B,CAA5B,EAA+BE,SAAU,EADrF;AAEI,MAAA,IAAI,EAAG;AAFX,OAGI,MAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,MAAb;AAAoB,MAAA,KAAK,EAAC;AAA1B,cAHJ,CAlCJ,CAJJ,CADJ,CAFJ,CALJ,CADJ,CADJ,EA6DI,MAAC,KAAD;AAAO,MAAA,EAAE,EAAC;AAAV,OACI,MAAC,OAAD;AACI,MAAA,QAAQ,MADZ;AAEI,MAAA,KAAK,EAAE;AAAEC,QAAAA,SAAS,EAAE,WAAb;AAA0BV,QAAAA,OAAO,EAAE,SAAnC;AAA8CE,QAAAA,SAAS,EAAE;AAAzD,OAFX;AAGI,MAAA,QAAQ;AAHZ,OAKI,MAAC,SAAD;AAAW,MAAA,KAAK,EAAE;AAAlB,OACI,MAAC,IAAD,QACI,MAAC,IAAD,CAAM,MAAN;AAAa,MAAA,MAAM,EAAE,EAArB;AAAyB,MAAA,MAAM,EAAE,CAAjC;AAAoC,MAAA,QAAQ,EAAE;AAA9C,OACI;AAAK,MAAA,SAAS,EAAC;AAAf,OACI;AAAK,MAAA,SAAS,EAAC;AAAf,OACI;AAAK,MAAA,SAAS,EAAC,6BAAf;AAA6C,MAAA,GAAG,EAAE,KAAKpB,KAAL,CAAWI,IAAX,CAAgBU;AAAlE,MADJ,EAEI;AAAK,MAAA,SAAS,EAAC;AAAf,MAFJ,CADJ,EAKI;AAAK,MAAA,SAAS,EAAC;AAAf,MALJ,EAMI;AAAK,MAAA,SAAS,EAAC;AAAf,OACI;AAAK,MAAA,SAAS,EAAC;AAAf,OACI;AAAK,MAAA,GAAG,EAAE,KAAKd,KAAL,CAAWI,IAAX,CAAgBU,KAA1B;AAAiC,MAAA,SAAS,EAAC;AAA3C,MADJ,CADJ,CANJ,CADJ,CADJ,EAeI,MAAC,IAAD,CAAM,MAAN;AAAa,MAAA,MAAM,EAAE,EAArB;AAAyB,MAAA,MAAM,EAAE,EAAjC;AAAqC,MAAA,QAAQ,EAAE;AAA/C,OACI,MAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC;AAAtB,OACI,MAAC,IAAD,CAAM,OAAN,QACI,MAAC,IAAD,CAAM,MAAN;AAAa,MAAA,SAAS,EAAC,cAAvB;AAAsC,MAAA,EAAE,EAAC;AAAzC,OAA+C,KAAKd,KAAL,CAAWI,IAAX,CAAgBO,UAA/D,CADJ,CADJ,EAII,MAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,MAAtB;AAA6B,MAAA,KAAK,EAAE;AAAES,QAAAA,SAAS,EAAE;AAAb;AAApC,OACI;AAAM,MAAA,SAAS,EAAC;AAAhB,iBADJ,OAC4C,KAAKpB,KAAL,CAAWI,IAAX,CAAgBQ,MAD5D,CAJJ,EAOI,MAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,MAAtB;AAA6B,MAAA,KAAK,EAAE;AAAEQ,QAAAA,SAAS,EAAE;AAAb;AAApC,mBACa,KAAKpB,KAAL,CAAWI,IAAX,CAAgBiB,UAAhB,CAA2BC,GAA3B,CAA+BD,UAAU,IAClD,MAAC,IAAD;AAAM,MAAA,EAAE,EAAG,YAAWA,UAAU,CAACE,QAAS,IAA1C;AAA+C,MAAA,IAAI,EAAG;AAAtD,OACI,MAAC,KAAD;AAAO,MAAA,EAAE,EAAC,GAAV;AAAc,MAAA,KAAK,EAAC;AAApB,OACI,MAAC,KAAD,CAAO,MAAP,QAAeF,UAAU,CAACG,SAA1B,CADJ,CADJ,CADS,CADb,CAPJ,EAiBI,MAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,MAAtB;AAA6B,MAAA,KAAK,EAAE;AAAEJ,QAAAA,SAAS,EAAE;AAAb;AAApC,OACI;AAAM,MAAA,SAAS,EAAC;AAAhB,iBADJ,OAC4C,KAAKpB,KAAL,CAAWI,IAAX,CAAgBS,MAD5D,CAjBJ,CADJ,EAsBI,MAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,YAAtB;AAAmC,MAAA,SAAS,EAAC;AAA7C,OACI,MAAC,IAAD;AACI,MAAA,EAAE,EAAG,QAAO,KAAKb,KAAL,CAAWI,IAAX,CAAgBY,QAAS,IAAG,KAAKhB,KAAL,CAAWI,IAAX,CAAgBqB,WAAhB,CAA4B,CAA5B,EAA+BE,SAAU,EADrF;AAEI,MAAA,IAAI,EAAG;AAFX,OAGI,MAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,MAAb;AAAoB,MAAA,KAAK,EAAE;AAAEE,QAAAA,YAAY,EAAE;AAAhB,OAA3B;AAAiD,MAAA,KAAK,EAAC;AAAvD,cAHJ,CADJ,CAtBJ,CAfJ,CADJ,CALJ,CADJ,CA7DJ,CApCJ,EA8JI,MAAC,SAAD,QACI,MAAC,IAAD,QACI,MAAC,IAAD,CAAM,MAAN;AAAa,MAAA,SAAS,EAAC,kBAAvB;AAA0C,MAAA,MAAM,EAAE,EAAlD;AAAsD,MAAA,MAAM,EAAE,EAA9D;AAAkE,MAAA,QAAQ,EAAE;AAA5E,OACI,MAAC,OAAD;AAAS,MAAA,UAAU;AAAnB,OACI,MAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,mBAAlB;AAAsC,MAAA,EAAE,EAAC;AAAzC,kBADJ,CADJ,EAKI,MAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC;AAAtB,OACI,MAAC,IAAD,CAAM,WAAN;AAAkB,MAAA,SAAS,EAAC;AAA5B,OACKlE,eAAe,CAAC,KAAKqC,KAAL,CAAWI,IAAX,CAAgB0B,WAAjB,CADpB,CADJ,CALJ,EAUI,MAAC,OAAD;AAAS,MAAA,UAAU;AAAnB,OACI,MAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,mBAAlB;AAAsC,MAAA,EAAE,EAAC;AAAzC,iBADJ,CAVJ,EAcI,MAAC,IAAD,QACK,KAAK9B,KAAL,CAAWI,IAAX,CAAgBqB,WAAhB,CAA4BH,GAA5B,CAAgC,CAACS,WAAD,EAAcC,GAAd,KAC7B,MAAC,IAAD,CAAM,MAAN;AAAa,MAAA,MAAM,EAAE,EAArB;AAAyB,MAAA,MAAM,EAAE,CAAjC;AAAoC,MAAA,QAAQ,EAAE,CAA9C;AAAiD,MAAA,KAAK,EAAE;AAAEC,QAAAA,SAAS,EAAE,YAAb;AAA2BC,QAAAA,QAAQ,EAAE;AAArC;AAAxD,OACI,MAAC,IAAD;AACI,MAAA,EAAE,EAAG,QAAO,KAAKlC,KAAL,CAAWI,IAAX,CAAgBY,QAAS,IAAGe,WAAW,CAACJ,SAAU,EADlE;AAEI,MAAA,IAAI,EAAG;AAFX,OAGI;AAAG,MAAA,SAAS,EAAC;AAAb,OAAwBI,WAAW,CAACI,WAApC,CAHJ,CADJ,EAMI,MAAC,OAAD;AAAS,MAAA,QAAQ;AAAjB,MANJ,CADH,CADL,CAdJ,CADJ,CADJ,CA9JJ,CADJ;AAmMH;;AA7NgC;;AA+NrC,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;AAC5B,SAAO;AACHC,IAAAA,YAAY,EAAED,KAAK,CAACC;AADjB,GAAP;AAGH;;AAED,eAAe5E,OAAO,CAAC0E,eAAD,EAAkB;AAAEjE,EAAAA;AAAF,CAAlB,CAAP,CAAwCwB,MAAxC,CAAf","sourcesContent":["import 'isomorphic-unfetch'\r\nimport Link from 'next/link'\r\nimport React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser';\r\nimport { Helmet } from 'react-helmet';\r\nimport Layout from '../../components/MyLayout';\r\nimport { createMedia } from '@artsy/fresnel'\r\nimport { useRouter } from 'next/router';\r\nimport { saveNovel } from '../../redux/actions/novelActions'\r\nimport { API_URL } from '../../config/config'\r\nimport {\r\n    Button,\r\n    Container,\r\n    Divider,\r\n    Grid,\r\n    Header,\r\n    Icon,\r\n    Image,\r\n    List,\r\n    Menu,\r\n    Segment,\r\n    Sidebar,\r\n    Visibility,\r\n    Item,\r\n    Label,\r\n    Tab, Statistic\r\n} from 'semantic-ui-react';\r\nconst { MediaContextProvider, Media } = createMedia({\r\n    breakpoints: {\r\n        mobile: 0,\r\n        tablet: 768,\r\n        computer: 1024,\r\n    },\r\n})\r\nclass Truyen extends React.Component {\r\n    static getInitialProps({ store }) { }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    componentDidMount() {\r\n        console.log(this.props.data)\r\n        this.props.saveNovel(this.props.data)\r\n    }\r\n\r\n    static async getInitialProps({ query: { id } }) {\r\n        // eslint-disable-next-line no-undef\r\n        // const { id } = context.query\r\n        // const router = useRouter()\r\n        // const { id } = router.query\r\n        const res = await fetch(`${API_URL}novel?id=${id}`)\r\n        const json = await res.json()\r\n        // console.log(json)\r\n\r\n        return { data: json }\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props)\r\n\r\n        return (\r\n            <Layout>\r\n                <style>\r\n                    {`\r\n      html, body {\r\n        background-color: #f2f3f5 !important;\r\n      }\r\n    }\r\n    `}\r\n                </style>\r\n                <Helmet>\r\n                    <title>{`${this.props.data.novelsname}`} - YYtruyen</title>\r\n                    <meta name=\"description\" content={`Truyện ${this.props.data.novelsname} là tác phẩm của tác giả ${this.props.data.author}, tiến trình: ${this.props.data.status}. Vào yytruyen.com để đọc những chương mới nhất của tác phẩm này nhé  `} />\r\n                    <meta name=\"theme-color\" content=\"#008f68\" />\r\n                    <meta name=\"keywords\" content=\"đọc truyện online, truyện online, truyện ngôn tình, truyện kiếm hiệp, truyện ngược, sủng\" />\r\n                    <meta property=\"og:title\" content={`${this.props.data.novelsname}`} />\r\n                    <meta property=\"og:type\" content=\"book\" />\r\n                    <meta property=\"og:image\" content={`${this.props.data.cover}`} />\r\n                    <meta property=\"og:description\" content={`${this.props.data.des}`} />\r\n                    <meta property=\"og:site_name\" content=\"Yytruyen.com\" />\r\n                    <meta property=\"og:url\" content={`http://yytruyen.com/truyen/${this.props.data.idnovels}`} />\r\n                    <meta property=\"book:author\" content={`${this.props.data.author}`} />\r\n                    <meta property=\"og:image:width\" content=\"200\" />\r\n                    <meta property=\"og:image:height\" content=\"300\" />\r\n\r\n                    <script type=\"application/ld+json\">{`\r\n                    {\r\n                    \"@context\": \"http://schema.org\",\r\n                    \"url\": \"http://yytruyen.com/truyen/${this.props.data.idnovels}\",\r\n                    \"image\": \"${this.props.data.cover}\",\r\n                    \"@type\": \"Book\",\r\n                    \"name\": \"${this.props.data.novelsname}\",\r\n                    \"author\": \"${this.props.data.author}\",\r\n                    \"description\": \"${this.props.data.des}\"\r\n                    }\r\n                    `}</script>\r\n                </Helmet>\r\n                <MediaContextProvider>\r\n                    <Media greaterThan='mobile'>\r\n                        <Segment\r\n                            inverted\r\n                            style={{ maxHeight: '32.625rem', padding: '1em 0em' }}\r\n                            vertical\r\n                        >\r\n                            <div className='book-info'>\r\n                                <img className='glass_background-img' src={this.props.data.cover} />\r\n                                <Container style={{}}>\r\n                                    <Grid>\r\n                                        <Grid.Column mobile={16} tablet={4} computer={4}>\r\n                                            <Image fluid className='item-img' src={this.props.data.cover} style={{ height: '22.75rem' }} />\r\n                                        </Grid.Column>\r\n                                        <Grid.Column mobile={16} tablet={12} computer={12}>\r\n                                            <Item.Group textAlign='left'>\r\n                                                <Item.Content>\r\n                                                    <Item.Header className='book-title' as='h2'>{this.props.data.novelsname}</Item.Header>\r\n                                                </Item.Content>\r\n                                                <Item.Extra textAlign='left' style={{ marginTop: 10 }}>\r\n                                                    <span className='label'>Author:</span> {this.props.data.author}\r\n                                                </Item.Extra>\r\n                                                <Item.Extra textAlign='left' style={{ marginTop: 10 }}>\r\n                                                    Genres: {this.props.data.genresdata.map(genresdata => (\r\n                                                    <Link as={`/theloai/${genresdata.idgenres}/1`} href={`/theloai/[id]/[page]`}>\r\n                                                        <Label as='a' color='yellow'>\r\n                                                            <Label.Detail>{genresdata.genrename}</Label.Detail>\r\n                                                        </Label>\r\n\r\n                                                    </Link>\r\n                                                ))}\r\n                                                </Item.Extra>\r\n                                                <Item.Extra textAlign='left' style={{ marginTop: 10 }}>\r\n                                                    <span className='label'>Status:</span> {this.props.data.status}\r\n                                                </Item.Extra>\r\n                                                <Item.Content>\r\n                                                    <Statistic.Group>\r\n                                                        <Statistic>\r\n                                                            <Statistic.Value>{this.props.data.chapterlist?.length}</Statistic.Value>\r\n                                                            <Statistic.Label>Chapter</Statistic.Label>\r\n                                                        </Statistic>\r\n                                                        <Statistic>\r\n                                                            <Statistic.Value>31,200</Statistic.Value>\r\n                                                            <Statistic.Label>Views</Statistic.Label>\r\n                                                        </Statistic>\r\n                                                    </Statistic.Group>\r\n                                                </Item.Content>\r\n                                            </Item.Group>\r\n                                            <Link\r\n                                                as={`/doc/${this.props.data.idnovels}/${this.props.data.chapterlist[0].idchapter}`}\r\n                                                href={`/doc/[id]/[chapter]`}>\r\n                                                <Button size='huge' color='yellow'>READ</Button>\r\n                                            </Link>\r\n\r\n                                        </Grid.Column>\r\n                                    </Grid>\r\n                                </Container>\r\n                            </div>\r\n                        </Segment>\r\n\r\n                    </Media>\r\n                    <Media at='mobile'>\r\n                        <Segment\r\n                            inverted\r\n                            style={{ minHeight: '32.625rem', padding: '1em 0em', marginTop: 50 }}\r\n                            vertical\r\n                        >\r\n                            <Container style={{}}>\r\n                                <Grid>\r\n                                    <Grid.Column mobile={16} tablet={4} computer={4}>\r\n                                        <div className='basic-info_header__31qug'>\r\n                                            <div className='glass_background__p1P4f basic-info_cover-background__1Q9Rl'>\r\n                                                <img className='glass_background-img__2je7l' src={this.props.data.cover} />\r\n                                                <div className='glass_shade__3yav5' />\r\n                                            </div>\r\n                                            <div className='basic-info_cover-overlay__2gp4w' />\r\n                                            <div className='label_container__3-tcR basic-info_cover-wrapper__1mcNB'>\r\n                                                <div className='image_image-wrapper__3EJJ6 basic-info_cover__XtNRk'>\r\n                                                    <img src={this.props.data.cover} className='image_image__j9OCH' />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </Grid.Column>\r\n                                    <Grid.Column mobile={16} tablet={12} computer={12}>\r\n                                        <Item.Group textAlign='center'>\r\n                                            <Item.Content>\r\n                                                <Item.Header className='book-title_m' as='h2'>{this.props.data.novelsname}</Item.Header>\r\n                                            </Item.Content>\r\n                                            <Item.Extra textAlign='left' style={{ marginTop: 10 }}>\r\n                                                <span className='label'>Author:</span> {this.props.data.author}\r\n                                            </Item.Extra>\r\n                                            <Item.Extra textAlign='left' style={{ marginTop: 10 }}>\r\n                                                Genres: {this.props.data.genresdata.map(genresdata => (\r\n                                                <Link as={`/theloai/${genresdata.idgenres}/1`} href={`/theloai/[id]/[page]`}>\r\n                                                    <Label as='a' color='yellow'>\r\n                                                        <Label.Detail>{genresdata.genrename}</Label.Detail>\r\n                                                    </Label>\r\n\r\n                                                </Link>\r\n                                            ))}\r\n                                            </Item.Extra>\r\n                                            <Item.Extra textAlign='left' style={{ marginTop: 10 }}>\r\n                                                <span className='label'>Status:</span> {this.props.data.status}\r\n                                            </Item.Extra>\r\n                                        </Item.Group>\r\n                                        <Item.Group className='botom_book' textAlign='center'>\r\n                                            <Link\r\n                                                as={`/doc/${this.props.data.idnovels}/${this.props.data.chapterlist[0].idchapter}`}\r\n                                                href={`/doc/[id]/[chapter]`}>\r\n                                                <Button size='huge' style={{ marginBottom: 20 }} color='yellow'>READ</Button>\r\n                                            </Link>\r\n                                        </Item.Group>\r\n\r\n\r\n                                    </Grid.Column>\r\n                                </Grid>\r\n                            </Container>\r\n\r\n                        </Segment>\r\n\r\n                    </Media>\r\n                </MediaContextProvider>\r\n                <Container>\r\n                    <Grid>\r\n                        <Grid.Column className='detail-container' mobile={16} tablet={16} computer={16}>\r\n                            <Divider horizontal>\r\n                                <Header className='title-name-bottom' as='h2'>Synopsis</Header>\r\n                            </Divider>\r\n\r\n                            <Item.Group textAlign='left'>\r\n                                <Item.Description className='content'>\r\n                                    {ReactHtmlParser(this.props.data.description)}\r\n                                </Item.Description>\r\n                            </Item.Group>\r\n                            <Divider horizontal>\r\n                                <Header className='title-name-bottom' as='h2'>Chapter</Header>\r\n                            </Divider>\r\n\r\n                            <Grid>\r\n                                {this.props.data.chapterlist.map((datachapter, key) => (\r\n                                    <Grid.Column mobile={16} tablet={8} computer={8} style={{ wordBreak: 'break-word', overflow: 'hidden' }}>\r\n                                        <Link\r\n                                            as={`/doc/${this.props.data.idnovels}/${datachapter.idchapter}`}\r\n                                            href={`/doc/[id]/[chapter]`}>\r\n                                            <a className='chapter'>{datachapter.chaptername}</a>\r\n                                        </Link>\r\n                                        <Divider inverted></Divider>\r\n                                    </Grid.Column>\r\n\r\n                                ))}\r\n                            </Grid>\r\n                        </Grid.Column>\r\n                    </Grid>\r\n                </Container>\r\n\r\n\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        novelReducer: state.novelReducer\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, { saveNovel })(Truyen);\r\n"]},"metadata":{},"sourceType":"module"}